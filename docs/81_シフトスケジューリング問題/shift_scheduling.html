<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/favicon.ico" />
    <!-- Preload is necessary because we show these images when we disconnect from the server,
    but at that point we cannot load these images from the server -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/gradient-yHQUC_QB.png" as="image" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/noise-60BoTA8O.png" as="image" />
    <!-- Preload the fonts -->
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/Lora-VariableFont_wght-B2ootaw-.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/PTSans-Regular-CxL0S8W7.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/PTSans-Bold-D9fedIX3.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/FiraMono-Regular-BTCkDNvf.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/FiraMono-Medium-DU3aDxX5.ttf" as="font" crossorigin="anonymous" />
    <link rel="preload" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/FiraMono-Bold-CLVRCuM9.ttf" as="font" crossorigin="anonymous" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    <meta name="description" content="a marimo app" />
    <link rel="apple-touch-icon" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/apple-touch-icon.png" />
    <link rel="manifest" crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/manifest.json" />

    <script data-marimo="true">
      function __resizeIframe(obj) {
        var scrollbarHeight = 20; // Max between windows, mac, and linux

        function setHeight() {
          var element = obj.contentWindow.document.documentElement;
          // If there is no vertical scrollbar, we don't need to resize the iframe
          if (element.scrollHeight === element.clientHeight) {
            return;
          }

          // Create a new height that includes the scrollbar height if it's visible
          var hasHorizontalScrollbar = element.scrollWidth > element.clientWidth;
          var newHeight = element.scrollHeight + (hasHorizontalScrollbar ? scrollbarHeight : 0);

          // Only update the height if it's different from the current height
          if (obj.style.height !== `${newHeight}px`) {
            obj.style.height = `${newHeight}px`;
          }
        }

        // Resize the iframe to the height of the content and bottom scrollbar height
        setHeight();

        // Resize the iframe when the content changes
        const resizeObserver = new ResizeObserver((entries) => {
          setHeight();
        });
        resizeObserver.observe(obj.contentWindow.document.body);
      }
    </script>
    <marimo-filename hidden>shift_scheduling.py</marimo-filename>
    <title>shift scheduling</title>
    <script type="module" crossorigin crossorigin="anonymous" src="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/index-_Zd2Tjcq.js"></script>
    <link rel="stylesheet" crossorigin crossorigin="anonymous" href="https://cdn.jsdelivr.net/npm/@marimo-team/frontend@0.14.0/dist/assets/index-BVt8Dtzn.css">
  
<script data-marimo="true">
    window.__MARIMO_STATIC__ = {};
    window.__MARIMO_STATIC__.files = {};
</script>
</head>
  <body>
    <div id="root"></div>
    <script data-marimo="true">
      window.__MARIMO_MOUNT_CONFIG__ = {
            "filename": "shift_scheduling.py",
            "mode": "read",
            "version": "0.14.0",
            "serverToken": "static",
            "config": {"completion": {"activate_on_typing": true, "copilot": false}, "display": {"cell_output": "above", "code_editor_font_size": 16, "dataframes": "rich", "default_table_page_size": 10, "default_width": "medium", "theme": "system"}, "formatting": {"line_length": 79}, "keymap": {"overrides": {}, "preset": "default"}, "language_servers": {"pylsp": {"enable_flake8": false, "enable_mypy": true, "enable_pydocstyle": false, "enable_pyflakes": false, "enable_pylint": false, "enable_ruff": true, "enabled": true}}, "package_management": {"manager": "uv"}, "runtime": {"auto_instantiate": true, "auto_reload": "off", "default_sql_output": "auto", "on_cell_change": "autorun", "output_max_bytes": 8000000, "reactive_tests": true, "std_stream_max_bytes": 1000000, "watcher_on_save": "lazy"}, "save": {"autosave": "after_delay", "autosave_delay": 1000, "format_on_save": false}, "server": {"browser": "default", "follow_symlink": false}, "snippets": {"custom_paths": [], "include_default_snippets": true}},
            "configOverrides": {},
            "appConfig": {"sql_output": "auto", "width": "medium"},
            "view": {"showAppCode": true},
            "notebook": {"cells": [{"code": "import marimo as mo", "code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hbol", "name": "_"}, {"code": "import os\nimport pathlib\nfrom typing import Self\nimport pydantic\nimport networkx as nx\nfrom ortools.sat.python import cp_model", "code_hash": "3422c1e1c5c897618b17b23d8a3233b0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "MJUe", "name": "_"}, {"code": "mo.md(r\"\"\"# \u30b7\u30d5\u30c8\u6700\u9069\u5316\u554f\u984c\"\"\")", "code_hash": "f134d5ea361516f95cc43eb011247386", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "vblA", "name": "_"}, {"code": "mo.md(r\"\"\"## \u554f\u984c\u8a2d\u5b9a\"\"\")", "code_hash": "586772ba4d73d385db8b98b9766d5064", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "bkHC", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n\u5404\u30b8\u30e7\u30d6\u306f\u4e88\u3081\u5b9f\u884c\u6642\u9593\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u308b. \n\u305d\u306e\u4e0a\u3067\u4f5c\u696d\u54e1\u3092\u5404\u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066, \u540c\u3058\u4f5c\u696d\u54e1\u304c\u540c\u4e00\u6642\u523b\u306b\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u51e6\u7406\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b.\n\"\"\"\n)", "code_hash": "b8c3632a63d8cab3348e4226e77adb76", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "lEQa", "name": "_"}, {"code": "mo.md(\n    r\"\"\"\n### \u5b9a\u6570\n\n- $J$: \u30b8\u30e7\u30d6\u306e\u96c6\u5408\n- $W$: \u4f5c\u696d\u54e1\u306e\u96c6\u5408\n- $b_w$: \u4f5c\u696d\u54e1 $w$ \u306e\u56fa\u5b9a\u8cbb\u7528\n- $s_j, f_j$: \u30b8\u30e7\u30d6 $j$ \u306e\u958b\u59cb\u6642\u523b\u3068\u7d42\u4e86\u6642\u523b\n- $J_w$: \u4f5c\u696d\u54e1 $w$ \u304c\u9042\u884c\u3067\u304d\u308b\u30b8\u30e7\u30d6\u306e\u96c6\u5408\n- $W_j$: \u30b8\u30e7\u30d6 $j$ \u3092\u9042\u884c\u3067\u304d\u308b\u4f5c\u696d\u54e1\u306e\u96c6\u5408\n- $G = (J, E)$: \u30b8\u30e7\u30d6\u3092\u70b9, \u30b8\u30e7\u30d6\u306e\u4f5c\u696d\u6642\u9593\u306b\u91cd\u306a\u308a\u304c\u3042\u308b\u3068\u304d\u70b9\u306e\u9593\u306b\u7dda\u3092\u5f35\u308b\u3068\u3044\u3046\u30eb\u30fc\u30eb\u3067\u4f5c\u6210\u3057\u305f\u30b0\u30e9\u30d5\n- $C$: \u533a\u9593\u30b0\u30e9\u30d5 $G$ \u306b\u5bfe\u3059\u308b\u6975\u5927\u30af\u30ea\u30fc\u30af\u306e\u96c6\u5408\n- $J_c$: \u30af\u30ea\u30fc\u30af $c$ \u306b\u542b\u307e\u308c\u308b\u30b8\u30e7\u30d6\u306e\u96c6\u5408\n\n### \u6c7a\u5b9a\u5909\u6570\n\n- $x_{jw} \\in \\{ 0, 1 \\}$: \u30b8\u30e7\u30d6 $j$ \u306b\u4f5c\u696d\u54e1 $w$ \u3092\u5272\u308a\u5f53\u3066\u308b\u6642 $1$, \u305d\u308c\u4ee5\u5916\u306e\u3068\u304d $0$. \n- $y_w \\in \\{ 0, 1 \\}$: \u4f5c\u696d\u54e1 $w$ \u304c\u4f7f\u308f\u308c\u308b\u3068\u304d $1$, \u305d\u308c\u4ee5\u5916\u306e\u3068\u304d $0$. \n\n### \u5236\u7d04\u6761\u4ef6\n\n- $\\sum_{w \\in W} x_{jw} = 1 \\quad (\\forall j \\in J)$: \u5404\u30b8\u30e7\u30d6\u306f 1 \u4eba\u306e\u4f5c\u696d\u54e1\u306b\u3088\u3063\u3066\u5fc5\u305a\u9042\u884c\u3055\u308c\u308b. \n- $\\sum_{j \\in J_c \\cap J_w} x_{jw} \\leq y_w \\quad (\\forall w \\in W, \\space \\forall c \\in C)$: \u5404\u4f5c\u696d\u54e1\u306f\u540c\u6642\u306b 2 \u3064\u4ee5\u4e0a\u306e\u30b8\u30e7\u30d6\u3092\u51e6\u7406\u3067\u304d\u306a\u3044. \n\n### \u76ee\u7684\u95a2\u6570\n\n- $\\min \\sum_{w \\in W} b_w y_w$: \u4f5c\u696d\u54e1\u306e\u56fa\u5b9a\u8cbb\u7528\u306e\u7dcf\u548c\u3092\u6700\u5c0f\u5316\n\"\"\"\n)", "code_hash": "2b4956e9fb86f4a8e9974ff1cbfba363", "config": {"column": null, "disabled": false, "hide_code": true}, "id": "PKri", "name": "_"}, {"code": "current_dir = pathlib.Path(os.path.dirname(__file__))\ndata_dir = current_dir / \"data\" / \"ptask\"", "code_hash": "23439cd17340f67ff3d7a2be606d5527", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Xref", "name": "_"}, {"code": "fname1 = data_dir / \"data_10_51_111_66.dat\"\n\nwith open(fname1) as f:\n    _lines = f.readlines()\n\n_lines", "code_hash": "f1c3902ba04523c6a45ab85701e76fd5", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "SFPL", "name": "_"}, {"code": "class Job(pydantic.BaseModel):\n    model_config = pydantic.ConfigDict(frozen=True)\n\n    start: int\n    finish: int\n\n    def intersect_with(self, other: Self) -> bool:\n        if self.start <= other.start and self.finish > other.start:\n            return True\n        if other.start <= self.start and other.finish > self.start:\n            return True\n\n        return False", "code_hash": "c6e5ca0237d6fdca6bf6493552c463b4", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "BYtC", "name": "_"}, {"code": "class Worker(pydantic.BaseModel):\n    model_config = pydantic.ConfigDict(frozen=True)\n\n    cost: int\n    jobs: list[int]", "code_hash": "3a9f87ac46790e535ba9be8ae803da39", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "RGSE", "name": "_"}, {"code": "class Condition(pydantic.BaseModel):\n    model_config = pydantic.ConfigDict(frozen=True)\n\n    jobs: list[Job]\n    workers: list[Worker]\n\n    @staticmethod\n    def from_file(path: str | os.PathLike) -> Self:\n        jobs = []\n        workers = []\n\n        with open(path) as f:\n            lines = f.readlines()\n        idx = 0\n        num_jobs = None\n        while idx < len(lines):\n            line = lines[idx]\n            if line.startswith(\"Jobs = \"):\n                num_jobs: int = int(line.split()[2])\n                print(f\"{num_jobs=}\")\n                for _ in range(num_jobs):\n                    idx += 1\n                    line = lines[idx]\n                    start, finish = line.strip().split()\n                    jobs.append(Job(start=start, finish=finish))\n            if line.startswith(\"Qualifications = \"):\n                num_workers: int = int(line.split()[2])\n                print(f\"{num_workers=}\")\n                for _ in range(num_workers):\n                    idx += 1\n                    line = lines[idx]\n                    bw, jw = line.strip().split(\":\")\n                    workers.append(Worker(cost=bw, jobs=jw.strip().split()))\n\n            idx += 1\n\n        return Condition(jobs=jobs, workers=workers)", "code_hash": "ff50c8a8d41ee5d98845e2cc1bd571b0", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Kclp", "name": "_"}, {"code": "cond1 = Condition.from_file(fname1)", "code_hash": "f9316970a2d16badc325d966b82db85e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "emfo", "name": "_"}, {"code": "class Model:\n    def __init__(self, cond: Condition):\n        # \u30b0\u30e9\u30d5\u306e\u5b9a\u7fa9\n        g = nx.Graph()\n        for id_job1, job1 in enumerate(cond.jobs):\n            for id_job2, job2 in enumerate(cond.jobs):\n                if id_job2 <= id_job1:\n                    continue\n                if job1.intersect_with(job2):\n                    g.add_edge(id_job1, id_job2)\n\n        # \u30af\u30ea\u30fc\u30af\u306e\u5217\u6319\n        cliques = [set(c) for c in nx.find_cliques(g)]\n\n        model = cp_model.CpModel()\n\n        x = [[model.new_bool_var(\"\") for _ in cond.workers] for _ in cond.jobs]\n        y = [model.new_bool_var(\"\") for _ in cond.workers]\n\n        # x \u3068 y \u306e\u95a2\u4fc2\n        for idw, worker in enumerate(cond.workers):\n            model.add_max_equality(\n                y[idw],\n                [x[idj][idw] for idj, _ in enumerate(cond.jobs)],\n            )\n\n        # worker \u3054\u3068\u306b\u62c5\u5f53\u3067\u304d\u308b job \u306f\u304d\u307e\u3063\u3066\u3044\u308b\n        for idj, job in enumerate(cond.jobs):\n            for idw, worker in enumerate(cond.workers):\n                if idj not in worker.jobs:\n                    model.add(x[idj][idw] == 0)\n\n        # \u5404 job \u306f 1 \u4eba\u306e worker \u306b\u3088\u3063\u3066\u51e6\u7406\u3055\u308c\u308b\n        for idj, _ in enumerate(cond.jobs):\n            model.add_exactly_one(\n                [x[idj][idw] for idw, _ in enumerate(cond.workers)]\n            )\n\n        # \u540c\u4e00\u30af\u30ea\u30fc\u30af\u306b\u5c5e\u3059\u308b job \u306f\u540c\u3058 worker \u3067\u51e6\u7406\u3067\u304d\u306a\u3044\n        for clique in cliques:\n            for idw, worker in enumerate(cond.workers):\n                model.add_at_most_one([x[idj][idw] for idj in clique])\n\n        # model.minimize(\n        #     sum(\n        #         y[idw]\n        #         for idw, _ in enumerate(cond.workers)\n        #     )\n        # )\n\n        # \u89e3\u8aac\u30da\u30fc\u30b8\u3067\u306f worker \u6570\u3092\u6700\u5c0f\u5316\u3057\u3066\u3044\u305f\u304c,\n        # worker \u306e\u30b3\u30b9\u30c8\u8fbc\u3067\u6700\u5c0f\u5316\u3059\u308b\u306e\u304c\u6b63\u3057\u3044.\n        model.minimize(\n            sum(\n                y[idw] * worker.cost for idw, worker in enumerate(cond.workers)\n            )\n        )\n\n        self.model = model\n        self.x = x\n        self.y = y\n        self.cliques = cliques\n\n    def solve(self, timeout: int = 10):\n        self.solver = cp_model.CpSolver()\n        self.solver.parameters.log_search_progress = True\n        self.solver.parameters.max_time_in_seconds = timeout\n        self.status = self.solver.solve(self.model)", "code_hash": "4fab2fc59fdacc2bd7879d11da83ef71", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "Hstk", "name": "_"}, {"code": "model1 = Model(cond1)\nmodel1.solve()\n\nmo.md(f\"Optimal Value = {model1.solver.objective_value}\")", "code_hash": "2f7926572f3288b0cd04f734e3e9e7c7", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "nWHF", "name": "_"}, {"code": "fname2 = data_dir / \"data_40_138_360_33.dat\"\ncond2 = Condition.from_file(fname2)", "code_hash": "4e832e8ca1d6374819f1638a3d10155e", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "iLit", "name": "_"}, {"code": "model2 = Model(cond2)\nmodel2.solve(timeout=60)\n\nmo.md(f\"Optimal Value = {model2.solver.objective_value}\")", "code_hash": "48cb860a4d5a0b15db2f37e6254ab9bd", "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ZHCJ", "name": "_"}, {"code": "", "code_hash": null, "config": {"column": null, "disabled": false, "hide_code": false}, "id": "ROlb", "name": "_"}], "metadata": {"marimo_version": "0.14.0"}, "version": "1"},
            "session": {"cells": [{"code_hash": "1d0db38904205bec4d6f6f6a1f6cec3e", "console": [], "id": "Hbol", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "3422c1e1c5c897618b17b23d8a3233b0", "console": [], "id": "MJUe", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f134d5ea361516f95cc43eb011247386", "console": [], "id": "vblA", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h1 id=\"_1\">\u30b7\u30d5\u30c8\u6700\u9069\u5316\u554f\u984c</h1></span>"}, "type": "data"}]}, {"code_hash": "586772ba4d73d385db8b98b9766d5064", "console": [], "id": "bkHC", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h2 id=\"_1\">\u554f\u984c\u8a2d\u5b9a</h2></span>"}, "type": "data"}]}, {"code_hash": "b8c3632a63d8cab3348e4226e77adb76", "console": [], "id": "lEQa", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">\u5404\u30b8\u30e7\u30d6\u306f\u4e88\u3081\u5b9f\u884c\u6642\u9593\u304c\u4e0e\u3048\u3089\u308c\u3066\u3044\u308b. \n\u305d\u306e\u4e0a\u3067\u4f5c\u696d\u54e1\u3092\u5404\u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066, \u540c\u3058\u4f5c\u696d\u54e1\u304c\u540c\u4e00\u6642\u523b\u306b\u8907\u6570\u306e\u30bf\u30b9\u30af\u3092\u51e6\u7406\u3057\u306a\u3044\u3088\u3046\u306b\u3059\u308b.</span></span>"}, "type": "data"}]}, {"code_hash": "2b4956e9fb86f4a8e9974ff1cbfba363", "console": [], "id": "PKri", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><h3 id=\"_1\">\u5b9a\u6570</h3>\n<ul>\n<li><marimo-tex class=\"arithmatex\">||(J||)</marimo-tex>: \u30b8\u30e7\u30d6\u306e\u96c6\u5408</li>\n<li><marimo-tex class=\"arithmatex\">||(W||)</marimo-tex>: \u4f5c\u696d\u54e1\u306e\u96c6\u5408</li>\n<li><marimo-tex class=\"arithmatex\">||(b_w||)</marimo-tex>: \u4f5c\u696d\u54e1 <marimo-tex class=\"arithmatex\">||(w||)</marimo-tex> \u306e\u56fa\u5b9a\u8cbb\u7528</li>\n<li><marimo-tex class=\"arithmatex\">||(s_j, f_j||)</marimo-tex>: \u30b8\u30e7\u30d6 <marimo-tex class=\"arithmatex\">||(j||)</marimo-tex> \u306e\u958b\u59cb\u6642\u523b\u3068\u7d42\u4e86\u6642\u523b</li>\n<li><marimo-tex class=\"arithmatex\">||(J_w||)</marimo-tex>: \u4f5c\u696d\u54e1 <marimo-tex class=\"arithmatex\">||(w||)</marimo-tex> \u304c\u9042\u884c\u3067\u304d\u308b\u30b8\u30e7\u30d6\u306e\u96c6\u5408</li>\n<li><marimo-tex class=\"arithmatex\">||(W_j||)</marimo-tex>: \u30b8\u30e7\u30d6 <marimo-tex class=\"arithmatex\">||(j||)</marimo-tex> \u3092\u9042\u884c\u3067\u304d\u308b\u4f5c\u696d\u54e1\u306e\u96c6\u5408</li>\n<li><marimo-tex class=\"arithmatex\">||(G = (J, E)||)</marimo-tex>: \u30b8\u30e7\u30d6\u3092\u70b9, \u30b8\u30e7\u30d6\u306e\u4f5c\u696d\u6642\u9593\u306b\u91cd\u306a\u308a\u304c\u3042\u308b\u3068\u304d\u70b9\u306e\u9593\u306b\u7dda\u3092\u5f35\u308b\u3068\u3044\u3046\u30eb\u30fc\u30eb\u3067\u4f5c\u6210\u3057\u305f\u30b0\u30e9\u30d5</li>\n<li><marimo-tex class=\"arithmatex\">||(C||)</marimo-tex>: \u533a\u9593\u30b0\u30e9\u30d5 <marimo-tex class=\"arithmatex\">||(G||)</marimo-tex> \u306b\u5bfe\u3059\u308b\u6975\u5927\u30af\u30ea\u30fc\u30af\u306e\u96c6\u5408</li>\n<li><marimo-tex class=\"arithmatex\">||(J_c||)</marimo-tex>: \u30af\u30ea\u30fc\u30af <marimo-tex class=\"arithmatex\">||(c||)</marimo-tex> \u306b\u542b\u307e\u308c\u308b\u30b8\u30e7\u30d6\u306e\u96c6\u5408</li>\n</ul>\n<h3 id=\"_2\">\u6c7a\u5b9a\u5909\u6570</h3>\n<ul>\n<li><marimo-tex class=\"arithmatex\">||(x_{jw} \\in \\{ 0, 1 \\}||)</marimo-tex>: \u30b8\u30e7\u30d6 <marimo-tex class=\"arithmatex\">||(j||)</marimo-tex> \u306b\u4f5c\u696d\u54e1 <marimo-tex class=\"arithmatex\">||(w||)</marimo-tex> \u3092\u5272\u308a\u5f53\u3066\u308b\u6642 <marimo-tex class=\"arithmatex\">||(1||)</marimo-tex>, \u305d\u308c\u4ee5\u5916\u306e\u3068\u304d <marimo-tex class=\"arithmatex\">||(0||)</marimo-tex>. </li>\n<li><marimo-tex class=\"arithmatex\">||(y_w \\in \\{ 0, 1 \\}||)</marimo-tex>: \u4f5c\u696d\u54e1 <marimo-tex class=\"arithmatex\">||(w||)</marimo-tex> \u304c\u4f7f\u308f\u308c\u308b\u3068\u304d <marimo-tex class=\"arithmatex\">||(1||)</marimo-tex>, \u305d\u308c\u4ee5\u5916\u306e\u3068\u304d <marimo-tex class=\"arithmatex\">||(0||)</marimo-tex>. </li>\n</ul>\n<h3 id=\"_3\">\u5236\u7d04\u6761\u4ef6</h3>\n<ul>\n<li><marimo-tex class=\"arithmatex\">||(\\sum_{w \\in W} x_{jw} = 1 \\quad (\\forall j \\in J)||)</marimo-tex>: \u5404\u30b8\u30e7\u30d6\u306f 1 \u4eba\u306e\u4f5c\u696d\u54e1\u306b\u3088\u3063\u3066\u5fc5\u305a\u9042\u884c\u3055\u308c\u308b. </li>\n<li><marimo-tex class=\"arithmatex\">||(\\sum_{j \\in J_c \\cap J_w} x_{jw} \\leq y_w \\quad (\\forall w \\in W, \\space \\forall c \\in C)||)</marimo-tex>: \u5404\u4f5c\u696d\u54e1\u306f\u540c\u6642\u306b 2 \u3064\u4ee5\u4e0a\u306e\u30b8\u30e7\u30d6\u3092\u51e6\u7406\u3067\u304d\u306a\u3044. </li>\n</ul>\n<h3 id=\"_4\">\u76ee\u7684\u95a2\u6570</h3>\n<ul>\n<li><marimo-tex class=\"arithmatex\">||(\\min \\sum_{w \\in W} b_w y_w||)</marimo-tex>: \u4f5c\u696d\u54e1\u306e\u56fa\u5b9a\u8cbb\u7528\u306e\u7dcf\u548c\u3092\u6700\u5c0f\u5316</li>\n</ul></span>"}, "type": "data"}]}, {"code_hash": "23439cd17340f67ff3d7a2be606d5527", "console": [], "id": "Xref", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f1c3902ba04523c6a45ab85701e76fd5", "console": [], "id": "SFPL", "outputs": [{"data": {"application/json": "[\"# Randomly generated data for apersonnel scheduling problem\\n\", \"# ./datagen tightness = 90 Multi-skilling level = 66\\n\", \"# Random number generator seed = 0\\n\", \"Type = 1\\n\", \"Jobs = 111\\n\", \"  17  419\\n\", \" 236  706\\n\", \"  17  404\\n\", \"  66  581\\n\", \" 600 1018\\n\", \"  30  404\\n\", \"  21  328\\n\", \"   1  583\\n\", \"   6  575\\n\", \"  91  561\\n\", \"  59  495\\n\", \"  17  555\\n\", \"  18  461\\n\", \"1027 1420\\n\", \"  24  590\\n\", \" 134  799\\n\", \" 597  951\\n\", \"  15  342\\n\", \"  16  347\\n\", \"  52  725\\n\", \" 179  668\\n\", \"   7  513\\n\", \" 418  972\\n\", \" 500  837\\n\", \"   1  575\\n\", \"  49  591\\n\", \"  21  440\\n\", \"  39  362\\n\", \"  28  423\\n\", \" 442  831\\n\", \" 405  849\\n\", \"   8  388\\n\", \" 583  957\\n\", \" 466  837\\n\", \" 962 1411\\n\", \" 382  816\\n\", \" 416  939\\n\", \" 961 1399\\n\", \"  53  662\\n\", \"  27  391\\n\", \" 196  669\\n\", \" 335  934\\n\", \" 575 1201\\n\", \"  15  622\\n\", \" 550  959\\n\", \"  31  456\\n\", \" 428  841\\n\", \" 454  969\\n\", \" 706 1373\\n\", \"  11  526\\n\", \" 395  967\\n\", \" 390  977\\n\", \"  34  473\\n\", \" 914 1430\\n\", \"  11  439\\n\", \" 938 1401\\n\", \" 652 1118\\n\", \" 981 1433\\n\", \" 898 1409\\n\", \" 470 1006\\n\", \"   1  399\\n\", \" 390  927\\n\", \" 853 1431\\n\", \"1133 1435\\n\", \" 599 1030\\n\", \"   5  458\\n\", \"   4  387\\n\", \"  27  679\\n\", \" 414  836\\n\", \" 531  949\\n\", \" 587 1016\\n\", \" 900 1381\\n\", \" 855 1406\\n\", \"1059 1382\\n\", \" 923 1407\\n\", \"  34  597\\n\", \" 988 1429\\n\", \" 582 1021\\n\", \" 575 1016\\n\", \" 503 1074\\n\", \" 828 1327\\n\", \" 473  987\\n\", \"1067 1393\\n\", \" 461  843\\n\", \"   1  383\\n\", \" 133  607\\n\", \"1008 1425\\n\", \" 938 1366\\n\", \" 865 1389\\n\", \" 622  970\\n\", \"1029 1439\\n\", \" 395  823\\n\", \" 874 1431\\n\", \" 978 1415\\n\", \" 759 1389\\n\", \"1057 1425\\n\", \" 788 1255\\n\", \" 998 1433\\n\", \"1077 1437\\n\", \"1121 1435\\n\", \"1062 1419\\n\", \" 988 1381\\n\", \" 460  843\\n\", \" 905 1436\\n\", \" 847 1380\\n\", \" 855 1433\\n\", \" 755 1368\\n\", \" 990 1405\\n\", \" 990 1411\\n\", \" 847 1435\\n\", \" 649 1294\\n\", \"Qualifications = 51\\n\", \" 76:  45 102 103   0   1   3   6   7   8  11  12  14  15  16  21  22  23  24  25  26  27  28  29  30  33  35  36  37  39  40  41  43  47  50  52  54  55  57  59  61  62  64  65  66  67  69  70  71  72  73  74  75  76  77  79  80  81  82  83  85  87  88  90  91  93  94  96  98  99 100 101 104 106 107 108 109 \\n\", \" 80:  84  91 104   0   3   5   7   8   9  10  11  12  13  15  16  18  19  20  21  22  23  24  25  26  28  29  30  31  32  34  35  36  37  39  40  42  45  47  50  51  52  53  54  55  58  59  60  62  63  66  69  71  73  74  75  77  79  80  81  83  85  86  87  88  90  93  94  95  96  97  98  99 100 101 102 103 107 108 109 110 \\n\", \" 71:  54  59  99   1   6   7  11  12  13  14  15  16  17  18  19  20  23  24  25  26  27  28  29  30  31  34  35  38  39  41  43  44  45  46  47  48  50  51  52  53  55  56  57  58  60  61  65  67  68  69  70  73  74  75  76  79  81  83  91  92  93  94  96  97  98 100 104 106 107 108 109 \\n\", \" 77:  27  61  87   0   1   2   4   5   7   8  11  12  13  14  16  17  18  21  22  24  25  28  29  30  32  33  34  35  37  38  42  43  44  45  47  49  50  52  54  57  58  59  62  64  66  67  68  69  72  74  75  77  78  79  80  81  82  83  85  86  88  89  91  92  93  94  95  96  97  98 100 103 104 106 107 108 109 \\n\", \" 70:  11  70  73   0   1   5   7   8   9  10  17  18  21  22  23  25  26  27  28  30  31  32  33  35  36  37  38  39  40  41  42  43  45  46  48  51  52  55  56  59  60  63  67  71  72  74  75  77  78  80  81  82  83  84  85  86  89  92  93  94  96  97  98  99 100 101 103 105 108 109 \\n\", \" 76:  25  64  82   2   3   4   5   6   7   8   9  10  11  12  14  15  16  17  18  20  26  29  31  32  34  36  37  38  39  41  42  43  44  45  46  47  48  49  50  52  54  55  57  58  60  61  62  65  66  67  70  72  75  76  78  80  81  86  87  88  89  90  93  94  95  96  97  99 102 103 104 105 106 107 108 110 \\n\", \" 78:  17  35  72   2   3   4   5   6   7   8  10  11  12  14  15  16  18  20  21  22  23  24  25  26  27  28  29  32  34  37  39  40  41  45  48  49  50  51  52  53  56  57  59  60  61  63  64  66  67  69  71  73  75  76  77  79  80  82  83  84  87  88  90  91  92  93  94  95  96  97  98 100 102 103 104 105 107 108 \\n\", \" 76:  18  22  97   0   1   2   3   4   5   6   7   8   9  10  11  14  15  19  20  24  25  27  30  33  34  35  36  37  38  40  43  45  48  49  50  51  53  54  55  59  60  62  63  64  65  67  69  70  71  72  73  74  77  78  79  80  83  84  85  86  88  89  90  92  93  94  96  98  99 100 101 103 106 107 108 110 \\n\", \" 79:  10  23  92   0   4   5   7   8   9  11  12  13  14  15  17  18  19  21  24  25  27  30  31  32  33  34  36  37  38  39  42  43  44  45  46  47  48  50  51  52  55  56  58  59  60  63  64  65  66  67  68  70  72  73  76  78  80  81  83  84  87  89  90  91  93  94  95  96  98  99 100 101 103 104 105 106 107 108 109 \\n\", \" 78:  75  89  93   0   3   4   5   6   8   9  10  11  12  13  14  15  17  19  20  21  25  26  27  28  29  31  32  33  35  36  37  38  40  41  42  43  44  45  46  47  48  49  50  51  52  54  56  57  59  60  61  63  64  66  67  68  70  72  74  78  79  80  83  84  85  87  91  92  96  97  99 100 101 103 104 105 106 108 \\n\", \" 85:  14  16  37   0   1   3   4   5   9  10  11  12  13  15  17  19  20  21  22  23  24  25  26  27  29  32  33  34  35  36  39  40  41  43  44  45  46  47  48  49  50  51  53  54  55  56  57  58  59  60  62  63  64  65  66  67  68  69  70  71  72  73  74  77  78  79  83  84  86  87  89  93  95  97  98 100 101 102 103 104 105 106 107 109 110 \\n\", \" 73:   8  77 100   0   1   2   4   6   7   9  10  11  13  16  17  18  19  20  21  22  23  24  27  28  30  31  33  35  36  40  42  43  45  47  48  49  50  52  53  55  56  59  60  62  63  65  66  67  69  72  73  74  76  78  79  83  84  85  86  88  89  91  92  93  94  95  96 102 103 104 106 107 109 \\n\", \" 79:  52  79  98   0   1   3   4   5   7   8  10  11  12  13  14  17  18  19  21  22  23  24  25  27  30  31  32  35  37  38  40  41  44  45  46  47  49  50  51  56  59  61  62  63  65  66  67  68  69  71  72  73  74  75  76  77  78  80  81  82  87  88  89  91  92  93  94  95  96  97  99 100 101 102 103 104 105 106 109 \\n\", \" 76:  39  50  76   0   1   3   4   5   6   7   8   9  11  12  13  14  15  17  19  20  23  25  26  28  29  30  31  32  33  34  35  37  38  41  42  44  46  48  49  51  52  53  54  55  56  58  61  64  65  68  70  71  74  75  80  82  83  84  88  89  90  91  92  93  94  95  96  98 100 101 102 103 105 106 107 108 \\n\", \" 75:  24  78  95   0   1   2   3   7  10  11  15  16  17  20  21  25  26  29  33  34  36  37  38  39  40  42  44  45  47  48  49  52  56  57  58  59  60  61  62  63  64  65  68  69  70  71  72  74  75  76  77  80  81  82  84  88  89  90  91  92  93  96  97  98 100 101 102 103 104 105 106 107 108 109 110 \\n\", \" 70:  12  33 105   0   3   4   7   8   9  11  13  14  15  19  22  23  26  27  28  30  34  35  36  38  39  41  42  43  44  45  49  51  52  53  54  55  57  58  59  60  61  62  65  66  68  69  70  71  72  74  75  78  79  80  81  82  84  86  88  90  91  92  98  99 100 101 102 106 107 108 \\n\", \" 78:   5  30  62   0   1   2   3   4   6   8   9  13  16  17  18  21  24  25  26  27  29  31  32  33  34  35  37  38  39  42  43  44  45  46  47  49  50  51  52  53  54  55  56  57  60  61  63  67  68  69  71  73  74  75  76  77  80  82  83  85  88  89  91  92  93  94  95  96  97 100 101 104 105 106 107 108 109 110 \\n\", \" 75:   7  32  34   0   2   3   5   9  10  11  12  13  14  15  17  20  22  23  24  25  26  28  30  31  35  36  40  41  43  45  46  49  50  51  53  56  57  60  61  63  64  65  66  67  70  71  72  74  75  76  77  79  80  81  82  85  86  87  88  89  90  91  92  93  95  96  98  99 100 101 103 104 105 106 110 \\n\", \" 66:  31  51  57   0   1   3   5   7   8   9  10  11  14  15  17  18  24  25  26  28  29  30  32  34  35  37  40  41  46  47  49  50  52  54  55  56  61  62  63  68  69  70  71  72  74  77  78  80  81  82  85  87  89  90  91  93  94  95  96  98  99 101 105 106 107 108 \\n\", \" 77:  65  83 109   1   2   3   4   5   7   8   9  10  13  14  16  17  20  21  23  24  27  28  29  31  35  37  38  40  41  44  45  46  47  48  49  50  51  53  55  56  57  58  59  60  63  64  68  69  71  72  73  74  75  76  77  78  79  81  82  84  85  86  88  89  90  91  92  93  94  95  97 100 101 102 104 108 110 \\n\", \" 79:   6  41  55   0   1   2   4   5   7  10  12  14  15  16  17  18  19  20  21  22  23  24  25  27  28  29  30  31  32  33  35  39  40  42  43  44  50  52  54  56  57  58  60  61  62  63  65  66  67  68  69  72  73  75  77  78  79  82  83  86  87  88  89  90  91  92  93  95  98  99 100 102 103 104 105 106 107 108 109 \\n\", \" 78:  43  56  63   1   2   3   4   6   7   9  10  11  13  15  16  17  18  19  23  24  26  27  28  32  34  35  36  37  38  39  40  42  44  45  46  47  49  52  54  55  57  58  59  60  62  64  65  66  67  68  70  71  72  73  74  75  77  82  84  85  86  88  89  90  92  93  94  95  98 100 101 102 103 104 105 108 109 110 \\n\", \" 73:  38  96   1   2   3   4   7   8  10  11  12  13  14  15  18  20  22  24  25  26  27  29  31  32  34  36  40  41  43  45  46  47  48  50  51  56  57  58  59  60  64  65  66  68  69  72  73  74  77  78  79  80  81  83  84  87  88  89  91  93  95  97  99 100 101 102 103 104 105 106 107 108 110 \\n\", \" 68:   1 106   0   2   3   4   5   8   9  10  14  15  16  19  21  23  24  26  27  28  29  31  32  37  38  39  40  42  43  44  45  46  47  48  49  51  53  55  56  58  60  61  62  63  64  67  69  70  71  72  73  75  77  81  83  85  87  91  95  96  97 100 101 102 104 108 109 110 \\n\", \" 74:   9  42   0   3   5   7   8  10  12  14  15  17  18  19  20  21  23  24  26  27  28  30  31  32  33  36  37  38  39  40  41  43  44  45  46  51  52  53  54  55  56  57  59  63  65  66  68  70  71  73  74  77  78  79  80  81  83  84  86  88  89  90  91  93  96  97  98  99 101 102 105 106 107 110 \\n\", \" 73:  40  94   0   3   4   5   7   8   9  10  14  16  18  19  22  23  24  25  27  29  30  31  34  35  36  37  38  39  41  42  45  46  53  54  58  59  60  61  62  63  64  69  70  71  76  77  78  79  80  81  82  84  85  86  87  88  89  90  91  92  93  97  98  99 100 101 103 104 105 106 108 109 110 \\n\", \" 76:  85 110   1   4   6   7  10  11  12  13  14  15  16  17  18  19  21  23  24  25  26  28  29  33  35  37  40  41  42  45  46  48  50  51  52  53  54  56  57  58  64  65  66  69  70  72  73  74  76  77  78  79  80  81  82  83  84  87  88  90  91  92  93  94  95  96  97  99 100 101 102 104 105 106 107 109 \\n\", \" 81:  67  71   1   2   3   6   7   8   9  11  12  13  14  15  16  17  18  19  25  26  27  28  29  31  32  33  35  37  38  39  41  42  43  44  45  46  47  50  51  53  54  56  57  58  59  60  61  62  64  66  68  69  72  74  76  77  78  79  80  81  83  85  86  87  88  89  90  91  93  94  95  98  99 101 103 104 105 106 108 109 110 \\n\", \" 78:  15  74   0   1   3   5   6   8   9  10  11  12  13  14  16  20  21  22  23  25  26  27  28  29  30  31  33  34  36  37  38  40  41  42  43  45  47  50  51  52  53  54  56  57  58  59  61  65  66  67  69  70  71  76  77  78  79  80  81  82  84  85  87  88  89  90  91  92  93  94  96  97  98  99 101 102 105 110 \\n\", \" 74:  20  48   0   1   3   4   7   8   9  10  13  14  15  16  18  22  23  24  25  30  33  34  35  37  38  40  41  42  43  44  49  51  52  53  55  56  57  58  60  61  62  64  65  67  69  70  71  72  73  74  75  76  77  78  83  85  86  88  89  91  92  93  94  95  97  98 100 102 103 104 106 108 109 110 \\n\", \" 69:  19  80   0   2   3   4   5   7   8   9  10  11  14  15  16  18  22  23  24  25  26  27  30  31  33  34  38  39  40  42  43  45  48  51  54  59  62  63  65  67  68  70  71  74  75  76  77  78  79  84  85  86  87  88  90  91  92  93  95  96  98  99 100 101 103 104 105 107 108 \\n\", \" 80:  21  44  90   0   1   2   3   5   7   9  10  11  13  14  16  17  18  23  25  26  27  28  29  31  32  33  34  35  36  37  38  39  40  41  43  45  46  51  53  54  55  56  57  58  59  60  63  64  65  66  67  68  70  73  74  75  76  77  78  79  81  82  83  85  89  91  92  94  95  97  98 100 101 102 103 105 106 108 109 110 \\n\", \" 74:   0  46  58   1   2   3   4   5   7   8  10  11  13  14  17  19  20  21  22  24  26  27  28  30  33  34  35  37  38  39  40  42  43  44  45  49  50  52  54  55  60  62  63  64  66  67  68  69  70  72  75  78  79  80  81  82  84  87  89  92  94  96  97  99 100 101 102 103 104 105 106 107 108 110 \\n\", \" 70:  60  81 107   0   1   2   3   4   5   8  10  11  12  13  14  17  19  20  21  24  25  27  34  35  40  41  42  43  44  45  46  50  51  52  53  55  56  58  59  61  63  64  65  69  72  73  76  78  80  82  84  85  87  88  89  90  91  92  93  94  96  97  98  99 100 101 102 103 105 110 \\n\", \" 83:  28  47  86   1   2   3   5   6   7   8   9  10  11  12  13  15  16  17  19  20  21  22  23  24  25  26  27  29  31  32  33  34  37  38  39  41  42  44  45  48  49  52  57  61  62  63  64  65  67  68  69  71  72  73  74  75  76  79  80  81  82  83  84  85  87  88  89  90  91  92  93  95  99 100 101 102 103 104 105 106 107 108 110 \\n\", \" 77:   3   4  13   0   1   2   5   7   8   9  10  11  12  14  17  18  19  20  21  24  25  27  28  29  30  31  34  35  36  38  39  41  44  46  47  50  51  52  55  56  58  59  60  62  65  66  68  69  70  71  73  74  75  76  77  79  80  81  82  83  84  85  88  90  91  93  97  98  99 100 101 103 104 106 108 109 110 \\n\", \" 76:  49  69 101   1   3   6   7   9  10  13  14  15  16  17  18  19  20  21  22  24  27  28  29  30  34  35  36  37  38  40  42  44  46  47  48  50  51  52  54  56  57  58  59  61  62  63  64  66  67  68  71  72  73  74  75  80  84  85  86  87  88  91  92  93  94  95  96  97  98  99 103 104 106 107 108 110 \\n\", \" 67:  26  29  53   0   1   2   3   4   5   6   7  10  11  13  16  18  20  21  22  23  25  27  28  30  33  34  35  36  39  42  43  44  46  48  49  50  51  55  56  57  60  61  64  66  70  71  73  75  77  78  80  81  82  83  87  88  89  92  95  97 100 101 102 104 105 107 109 \\n\", \" 78:   2  36 108   1   6   8   9  10  11  12  14  15  17  18  21  24  25  26  27  29  31  32  33  34  35  37  38  39  40  42  43  44  45  46  48  49  50  53  56  57  62  63  64  65  66  67  68  69  70  71  72  75  76  78  80  82  83  84  85  86  87  88  89  90  91  92  93  94  95  97  98  99 101 104 105 106 107 110 \\n\", \" 72:  66  68  88   2   4   7   9  10  13  15  16  17  18  19  21  22  23  25  29  30  32  33  34  35  37  38  39  42  43  44  45  47  48  49  51  52  54  55  56  57  58  60  61  63  65  67  70  71  72  73  74  75  78  79  80  83  85  87  90  93  95  96  98  99 101 102 103 105 106 107 108 110 \\n\", \" 83:  83  17  50  25  87  90  91   9   6  74  29 106 103   4  88  24  68  46  85  22 107  16  77 110 102  42  59  82  41  61  38   8  89  67  55  23  73  72  27  97  86  60  84   1  99  30 100  28   7  43  53  79  13  40  52  94  15  63  10  93  51  80  58  64 109  45  20 101   2  56   3  81  37   5  75  35  11  98  96  78  14  49 104 \\n\", \" 77:  36  49 110   0  10  29  91  83  64  15 107  82  78  13  69  88  42 106  45  40  73 105  31  97  41  94  53  76  86  54  75  65  46   7  37  23  81  99  39  20   6  63  35  87  18  66   9  95  30  48  70  93   5  84  96  72  52  57  62  92  90  51  61  60  89   8 108  56   1  43  14  77  21  98   3  12  27 \\n\", \" 82:  42  90  80 109  37  64  70  10  19  17  87  27  98  33 103  72 110 104   2  82  26  94  44  76  45  60  88  39  14  18  79  28   4  56  67  91  43  41  30   3  29 106  48  83  74  66  53   7  84  40  77  32  96   0  35 107  61  16  92  34  51  52  15  49 108  13  59  38  50  46  75  78 101  73  55  57  81  97  11  36  63  62 \\n\", \" 80: 110  94  63  33  40  85  89  57  68  44  45  11  86  14   9   5  25  78  95  53   3  56  62  12  10  75   8  79  48  47 104  91 108   4   7  13  88  31  35  67  51  77  61 102  29 107  82  87  59  34  64  46  73 103  16  28  76 109  32  19  55  90  43  92  71  66  58  23  74  70  60  39  50  36  20  99   0  83  98 100 \\n\", \" 85:  76  82   0 106  90  45  83  67 100  84  15   5  30  55  66  21  58  86  20  91  68  94  32 109  70  73  74  41   7  81  49  96  54  98  92  50 105  22  89  88  60  79  71  34  95   1 108  56  37  97  23  25  40  72 110   9  61  99  52  59 104  17   2  18  27  62 107  75  35  87   4  78  64  63  42  13  48  31  26  36  24  11  46  39  16 \\n\", \" 77: 101   6  21  62  54  52  29  81  89  37  45  98  39  44   5  33  68  48  34  46 105  31   0  61 109 104  18  99  50 106  32  17 110   4  38  85  94  43   8 103 108  14  88  16  55  90  36  26  96  20   7 100  70  15  82  75  10  73  77  58  22  97  13  11  78 102  57   9  56  12  93  59  60   3  24  87  84 \\n\", \" 79:  54  57  36  94  66  55  18  47  39  32  90  96  82  99  93  37 103 105 110  22  88  89  17  44  20   3  45 109  19  26  78  52  73   6  84  92  33  25  21  50  80  42 108  13  63  53  85  49  72  91  86  97  30 107   2  81  28  71  16  10  87  31  70  74  11  65  12  58   5   7  14  24  79  48  23   8  59  75  68 \\n\", \" 78:  56  29  80  54 107   8  65  73 104  39  19   0  62  38  41  88   6  30 106  53  14 102  59  18   1   5  99  81  95  89  66  90 103  71  64  67  26  63  45  48  11  75  55  58  69  61  72  60  33  23  97  76 108  36  28  42  87 105  96  52 101  43 109  24  94   3 110  40  46  83  77   9  10  82  78  74  20   4 \\n\", \" 85:  95  30  14 105  53 102   2  49   3  11  94  74   5  31  27  68  93  76  98  43  16  66  97  64  78   6   9  88  24  67  51  79  71  62   4  86  35  12 107  47 109  15 103   1 108  38  59  36  39  87  32  26 101  60  37 110  96  56  57   7  70   8  10  13  75  42  55  92  46  44  73  22  34  81  77  20  17 106  61  48  69  33  29  41   0 \\n\", \" 76:  86  79  14  99  12  61  62  41  96  16  63  59  64  68  17  82   1  19   4  13  95  38 102  66  46  85  90  92  40  45  42  22  27  35  43  31  48 105  20  55  39   9  75  25  30  71  87  84   7  65  93  51  24  49 104  11  60  21 106  76   3  78  89  83  57  50  37 101  18  67  81 107  69   2 103 108 \\n\", \" 75:   6 104  91   8  11  46  59  14  41  76  72  48  64  26 100  55   4  31  73  87  98  95  24  57  67  23  69  53   3  18 102  29  63  83  68  50   7  12  90  19  17  78  22  80  45  20 101 109  84  92  28  89  38  39  42   0  85 110  82  77  94  36  58  61  37   9  79 107 103  65  16  86 108  10  66 \\n\"]"}, "type": "data"}]}, {"code_hash": "c6e5ca0237d6fdca6bf6493552c463b4", "console": [], "id": "BYtC", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "3a9f87ac46790e535ba9be8ae803da39", "console": [], "id": "RGSE", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "ff50c8a8d41ee5d98845e2cc1bd571b0", "console": [], "id": "Kclp", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "f9316970a2d16badc325d966b82db85e", "console": [{"name": "stdout", "text": "num_jobs=111\nnum_workers=51\n", "type": "stream"}], "id": "emfo", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "4fab2fc59fdacc2bd7879d11da83ef71", "console": [], "id": "Hstk", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "2f7926572f3288b0cd04f734e3e9e7c7", "console": [{"name": "stdout", "text": "\nStarting CP-SAT solver v9.13.4784\nParameters: max_time_in_seconds: 10 log_search_progress: true\nSetting number of workers to 12\n\nInitial optimization model '': (model_fingerprint: 0xf10b473897d169be)\n#Variables: 5'712 (#bools: 51 in objective) (3'892 primary variables)\n  - 5'712 Booleans in [0,1]\n#kAtMostOne: 1'632 (#literals: 62'169)\n#kExactlyOne: 111 (#literals: 5'661)\n#kLinMax: 51 (#expressions: 5'661)\n#kLinear1: 1'769\n\nStarting presolve at 0.00s\n", "type": "stream"}, {"name": "stdout", "text": "  2.28e-03s  0.00e+00d  [DetectDominanceRelations] \n  1.57e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=2 #num_dual_strengthening=1 \n  8.45e-05s  0.00e+00d  [ExtractEncodingFromLinear] #potential_supersets=1'743 \n  1.50e-03s  0.00e+00d  [DetectDuplicateColumns] \n  1.81e-04s  0.00e+00d  [DetectDuplicateConstraints] #duplicates=47 \n[Symmetry] Graph for symmetry has 15'294 nodes and 61'059 arcs.\n[Symmetry] Symmetry computation done. time: 0.00263841 dtime: 0.00593729\n[SAT presolve] num removable Booleans: 0 / 3943\n[SAT presolve] num trivial clauses: 0\n[SAT presolve] [0s] clauses:3892 literals:7784 vars:3943 one_side_vars:3943 simple_definition:0 singleton_clauses:0\n[SAT presolve] [0.000111331s] clauses:3892 literals:7784 vars:3943 one_side_vars:3943 simple_definition:0 singleton_clauses:0\n[SAT presolve] [0.000154533s] clauses:3892 literals:7784 vars:3943 one_side_vars:3943 simple_definition:0 singleton_clauses:0\n", "type": "stream"}, {"name": "stdout", "text": "  1.26e-04s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  1.55e-02s  4.04e-02d  [Probe] #probed=7'886 \n", "type": "stream"}, {"name": "stdout", "text": "  2.68e-02s  1.48e-01d  [MaxClique] Merged 5'477(49'281 literals) into 1'183(31'779 literals) at_most_ones. \n  1.60e-03s  0.00e+00d  [DetectDominanceRelations] \n  3.56e-03s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  7.44e-04s  0.00e+00d  [ProcessAtMostOneAndLinear] \n  1.07e-04s  0.00e+00d  [DetectDuplicateConstraints] \n  7.58e-05s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  1.99e-05s  0.00e+00d  [DetectDominatedLinearConstraints] \n  1.91e-05s  0.00e+00d  [DetectDifferentVariables] \n  1.50e-03s  1.21e-04d  [ProcessSetPPC] #relevant_constraints=1'294 \n  3.15e-05s  0.00e+00d  [FindAlmostIdenticalLinearConstraints] \n  2.40e-03s  3.17e-03d  [FindBigAtMostOneAndLinearOverlap] \n  2.63e-04s  1.79e-04d  [FindBigVerticalLinearOverlap] \n  8.18e-05s  0.00e+00d  [FindBigHorizontalLinearOverlap] \n  6.84e-05s  0.00e+00d  [MergeClauses] \n", "type": "stream"}, {"name": "stdout", "text": "  1.63e-03s  0.00e+00d  [DetectDominanceRelations] \n  3.47e-03s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  1.60e-03s  0.00e+00d  [DetectDominanceRelations] \n  3.42e-03s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  7.43e-04s  0.00e+00d  [DetectDuplicateColumns] \n  8.93e-05s  0.00e+00d  [DetectDuplicateConstraints] \n[Symmetry] Graph for symmetry has 7'057 nodes and 35'722 arcs.\n[Symmetry] Symmetry computation done. time: 0.00119586 dtime: 0.0028611\n", "type": "stream"}, {"name": "stdout", "text": "  9.49e-05s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  1.40e-02s  3.78e-02d  [Probe] #probed=7'886 \n", "type": "stream"}, {"name": "stdout", "text": "  1.94e-02s  1.03e-01d  [MaxClique] \n  1.62e-03s  0.00e+00d  [DetectDominanceRelations] \n  3.59e-03s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  7.52e-04s  0.00e+00d  [ProcessAtMostOneAndLinear] \n  1.12e-04s  0.00e+00d  [DetectDuplicateConstraints] \n  7.90e-05s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  2.18e-05s  0.00e+00d  [DetectDominatedLinearConstraints] \n  2.13e-05s  0.00e+00d  [DetectDifferentVariables] \n  1.49e-03s  1.21e-04d  [ProcessSetPPC] #relevant_constraints=1'294 \n  3.23e-05s  0.00e+00d  [FindAlmostIdenticalLinearConstraints] \n  2.40e-03s  3.19e-03d  [FindBigAtMostOneAndLinearOverlap] \n  2.67e-04s  1.79e-04d  [FindBigVerticalLinearOverlap] \n  8.21e-05s  0.00e+00d  [FindBigHorizontalLinearOverlap] \n  6.92e-05s  0.00e+00d  [MergeClauses] \n", "type": "stream"}, {"name": "stdout", "text": "  1.61e-03s  0.00e+00d  [DetectDominanceRelations] \n  3.46e-03s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  1.14e-03s  0.00e+00d  [ExpandObjective] #entries=133'826 #tight_variables=3'892 #tight_constraints=111 \n\nPresolve summary:\n  - 0 affine relations were detected.\n  - rule 'TODO dual: only one blocking constraint?' was applied 23'352 times.\n  - rule 'TODO dual: only one unspecified blocking constraint?' was applied 306 times.\n  - rule 'TODO linear2: contains a Boolean.' was applied 7'784 times.\n  - rule 'at_most_one: transformed into max clique.' was applied 1 time.\n  - rule 'bool_or: implications' was applied 3'892 times.\n  - rule 'duplicate: removed constraint' was applied 47 times.\n  - rule 'lin_max: removed exprs' was applied 51 times.\n  - rule 'lin_max: rewrite with precedences' was applied 51 times.\n  - rule 'linear1: x in domain' was applied 1'769 times.\n  - rule 'linear: fixed or dup variables' was applied 1'769 times.\n  - rule 'linear: negative clause' was applied 3'892 times.\n  - rule 'presolve: 1769 unused variables removed.' was applied 1 time.\n  - rule 'presolve: iteration' was applied 2 times.\n\nPresolved optimization model '': (model_fingerprint: 0x2c43a086132e9227)\n#Variables: 3'943 (#bools: 51 in objective) (3'832 primary variables)\n  - 3'943 Booleans in [0,1]\n#kAtMostOne: 1'183 (#literals: 31'779)\n#kExactlyOne: 111 (#literals: 3'892)\n[Symmetry] Graph for symmetry has 5'288 nodes and 35'722 arcs.\n[Symmetry] Symmetry computation done. time: 0.00110666 dtime: 0.00275496\n\nPreloading model.\n#Bound   0.14s best:inf   next:[0,3892]   initial_domain\n#Model   0.15s var:3943/3943 constraints:1294/1294\n\nStarting search at 0.15s with 12 workers.\n8 full problem subsolvers: [core, default_lp, max_lp, no_lp, pseudo_costs, quick_restart, quick_restart_no_lp, reduced_costs]\n4 first solution subsolvers: [fj(2), fs_random, fs_random_no_lp]\n10 interleaved subsolvers: [feasibility_pump, graph_arc_lns, graph_cst_lns, graph_dec_lns, graph_var_lns, ls, ls_lin, rins/rens, rnd_cst_lns, rnd_var_lns]\n3 helper subsolvers: [neighborhood_helper, synchronization_agent, update_gap_integral]\n\n", "type": "stream"}, {"name": "stdout", "text": "#1       0.16s best:3666  next:[0,3665]   fj_restart(batch:1 lin{mvs:205 evals:3'940} #w_updates:9 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#2       0.18s best:3637  next:[0,3636]   core\n#3       0.18s best:3588  next:[0,3587]   no_lp\n#4       0.18s best:3515  next:[0,3514]   no_lp\n#5       0.18s best:3512  next:[0,3511]   no_lp\n", "type": "stream"}, {"name": "stdout", "text": "#6       0.19s best:3446  next:[0,3445]   no_lp\n#7       0.19s best:3437  next:[0,3436]   no_lp\n#8       0.19s best:3371  next:[0,3370]   no_lp\n#9       0.19s best:3361  next:[0,3360]   no_lp\n#10      0.19s best:3295  next:[0,3294]   no_lp\n#11      0.19s best:3284  next:[0,3283]   no_lp\n", "type": "stream"}, {"name": "stdout", "text": "#12      0.21s best:3276  next:[0,3275]   no_lp\n#13      0.21s best:3209  next:[0,3208]   no_lp\n#14      0.22s best:3195  next:[0,3194]   no_lp\n#15      0.22s best:3193  next:[0,3192]   no_lp\n#16      0.22s best:3187  next:[0,3186]   no_lp\n", "type": "stream"}, {"name": "stdout", "text": "#17      0.23s best:3181  next:[0,3180]   no_lp\n#18      0.23s best:3106  next:[0,3105]   no_lp\n", "type": "stream"}, {"name": "stdout", "text": "#19      0.25s best:3102  next:[0,3101]   no_lp\n#20      0.25s best:3101  next:[0,3100]   no_lp\n#21      0.25s best:3099  next:[0,3098]   no_lp\n#22      0.25s best:3098  next:[0,3097]   no_lp\n#23      0.25s best:3095  next:[0,3094]   ls_restart_decay(batch:1 lin{mvs:8 evals:243} #w_updates:5 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#24      0.26s best:3087  next:[0,3086]   ls_lin_restart_perturb(batch:1 lin{mvs:8 evals:254} #w_updates:6 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#25      0.29s best:3085  next:[0,3084]   graph_arc_lns (d=2.93e-01 s=23 t=0.10 p=0.00 stall=0 h=base)\n", "type": "stream"}, {"name": "stdout", "text": "#26      0.31s best:3082  next:[0,3081]   ls_lin_restart_decay_compound(batch:1 lin{mvs:0 evals:27'244} gen{mvs:1'242 evals:0} comp{mvs:10 btracks:616} #w_updates:1 #perturb:0)\n#27      0.31s best:3017  next:[0,3016]   no_lp\n", "type": "stream"}, {"name": "stdout", "text": "#28      0.32s best:3015  next:[0,3014]   graph_dec_lns (d=2.93e-01 s=28 t=0.10 p=0.00 stall=1 h=base)\n", "type": "stream"}, {"name": "stdout", "text": "#Bound   0.34s best:3015  next:[617,3014] pseudo_costs\n#Bound   0.35s best:3015  next:[656,3014] reduced_costs\n", "type": "stream"}, {"name": "stdout", "text": "#29      0.38s best:3007  next:[656,3006] graph_arc_lns (d=4.62e-01 s=30 t=0.10 p=0.50 stall=0 h=base)\n", "type": "stream"}, {"name": "stdout", "text": "#30      0.39s best:3001  next:[656,3000] graph_dec_lns (d=4.62e-01 s=33 t=0.10 p=0.50 stall=0 h=base) [combined with: graph_arc_lns (d=4.6...]\n", "type": "stream"}, {"name": "stdout", "text": "#31      0.42s best:3000  next:[656,2999] ls_lin_restart(batch:1 lin{mvs:4'592 evals:3'943} #w_updates:2'415 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#Bound   0.46s best:3000  next:[2752,2999] max_lp\n", "type": "stream"}, {"name": "stdout", "text": "#32      0.48s best:2997  next:[2752,2996] rnd_var_lns (d=6.41e-01 s=38 t=0.10 p=0.67 stall=0 h=base)\n", "type": "stream"}, {"name": "stdout", "text": "#33      0.60s best:2991  next:[2752,2990] ls_lin_restart_perturb(batch:1 lin{mvs:3'140 evals:3'943} #w_updates:1'742 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#34      0.68s best:2990  next:[2752,2989] ls_restart_decay(batch:1 lin{mvs:20 evals:384} #w_updates:8 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#35      0.75s best:2989  next:[2752,2988] rnd_var_lns (d=6.31e-01 s=57 t=0.10 p=0.60 stall=1 h=base)\n", "type": "stream"}, {"name": "stdout", "text": "#Done    0.81s max_lp\n#Done    0.81s quick_restart\n", "type": "stream"}, {"name": "stdout", "text": "\nTask timing                      n [     min,      max]      avg      dev     time         n [     min,      max]      avg      dev    dtime\n                 'core':         1 [667.49ms, 667.49ms] 667.49ms   0.00ns 667.49ms         1 [   1.34s,    1.34s]    1.34s   0.00ns    1.34s\n           'default_lp':         1 [943.51ms, 943.51ms] 943.51ms   0.00ns 943.51ms         1 [   2.31s,    2.31s]    2.31s   0.00ns    2.31s\n     'feasibility_pump':         1 [ 34.06ms,  34.06ms]  34.06ms   0.00ns  34.06ms         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n                   'fj':         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n                   'fj':         1 [ 12.06ms,  12.06ms]  12.06ms   0.00ns  12.06ms         1 [  1.68ms,   1.68ms]   1.68ms   0.00ns   1.68ms\n            'fs_random':         1 [ 15.05ms,  15.05ms]  15.05ms   0.00ns  15.05ms         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n      'fs_random_no_lp':         1 [ 12.34ms,  12.34ms]  12.34ms   0.00ns  12.34ms         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n        'graph_arc_lns':         6 [  8.99ms, 130.43ms]  58.83ms  42.21ms 353.00ms         6 [  1.28us, 100.12ms]  61.62ms  44.85ms 369.73ms\n        'graph_cst_lns':         6 [  9.57ms,  82.08ms]  43.36ms  31.82ms 260.15ms         6 [ 90.22us, 100.07ms]  50.12ms  49.92ms 300.70ms\n        'graph_dec_lns':         6 [ 10.68ms,  80.97ms]  50.55ms  26.54ms 303.29ms         6 [ 90.40us, 100.35ms]  60.43ms  39.34ms 362.58ms\n        'graph_var_lns':         6 [ 18.89ms,  84.15ms]  40.96ms  27.68ms 245.75ms         6 [113.74us, 100.42ms]  33.51ms  47.18ms 201.09ms\n                   'ls':         6 [649.78us,  94.49ms]  52.58ms  36.76ms 315.48ms         6 [ 78.05us, 100.14ms]  66.73ms  47.10ms 400.39ms\n               'ls_lin':         6 [  3.53ms, 118.55ms]  37.94ms  39.45ms 227.63ms         6 [ 73.55us, 100.00ms]  43.54ms  40.78ms 261.22ms\n               'max_lp':         1 [668.27ms, 668.27ms] 668.27ms   0.00ns 668.27ms         1 [412.89ms, 412.89ms] 412.89ms   0.00ns 412.89ms\n                'no_lp':         1 [667.42ms, 667.42ms] 667.42ms   0.00ns 667.42ms         1 [   1.43s,    1.43s]    1.43s   0.00ns    1.43s\n         'pseudo_costs':         1 [667.02ms, 667.02ms] 667.02ms   0.00ns 667.02ms         1 [449.14ms, 449.14ms] 449.14ms   0.00ns 449.14ms\n        'quick_restart':         1 [665.03ms, 665.03ms] 665.03ms   0.00ns 665.03ms         1 [755.24ms, 755.24ms] 755.24ms   0.00ns 755.24ms\n  'quick_restart_no_lp':         1 [730.96ms, 730.96ms] 730.96ms   0.00ns 730.96ms         1 [959.75ms, 959.75ms] 959.75ms   0.00ns 959.75ms\n        'reduced_costs':         1 [668.08ms, 668.08ms] 668.08ms   0.00ns 668.08ms         1 [446.53ms, 446.53ms] 446.53ms   0.00ns 446.53ms\n            'rins/rens':         7 [  1.08ms, 148.85ms]  49.35ms  54.73ms 345.43ms         4 [  4.72ms, 100.09ms]  76.21ms  41.27ms 304.84ms\n          'rnd_cst_lns':         6 [  9.51ms,  89.43ms]  43.85ms  32.93ms 263.09ms         6 [ 22.51us, 100.35ms]  50.11ms  50.05ms 300.66ms\n          'rnd_var_lns':         6 [  9.77ms,  76.08ms]  43.45ms  29.67ms 260.67ms         6 [ 29.80us, 100.08ms]  51.61ms  48.49ms 309.65ms\n\nSearch stats              Bools  Conflicts  Branches  Restarts  BoolPropag  IntegerPropag\n                 'core':  3'943      8'588    73'116    24'113   1'867'167         18'529\n           'default_lp':  3'943      8'726    39'612    19'673   1'987'438         21'962\n            'fs_random':  3'943          0     3'964     3'964     152'831          1'982\n      'fs_random_no_lp':  3'943          0     3'804     3'804     146'367          1'902\n               'max_lp':  3'943          0     7'886     7'886     302'294        310'182\n                'no_lp':  3'943      7'766    78'616    24'137   2'123'288         29'159\n         'pseudo_costs':  3'943         50    23'910    15'995     624'701        648'520\n        'quick_restart':  3'943      4'325   243'086    24'501   2'772'979         63'327\n  'quick_restart_no_lp':  3'943      4'379   211'182    28'987   2'904'446         69'084\n        'reduced_costs':  3'943        100    40'956    24'104     944'308        978'233\n\nSAT stats                 ClassicMinim  LitRemoved  LitLearned  LitForgotten  Subsumed  MClauses  MDecisions  MLitTrue  MSubsumed  MLitRemoved  MReused\n                 'core':         6'324     100'717   2'272'648             0        80       444      15'124         0          0            0        0\n           'default_lp':         4'984      36'994   3'709'514             0       170       222       7'562         0          0            0        0\n            'fs_random':             0           0           0             0         0         0           0         0          0            0        0\n      'fs_random_no_lp':             0           0           0             0         0         0           0         0          0            0        0\n               'max_lp':             0           0           0             0         0         0           0         0          0            0        0\n                'no_lp':         3'401      18'890   3'076'261             0       392       444      15'124         0          0            0        0\n         'pseudo_costs':            49       5'420       7'084             0         1       222       7'562         0          0            0        0\n        'quick_restart':           951       3'339     858'725             0        52       444      15'124         0          0            0        0\n  'quick_restart_no_lp':           940       3'114     886'851             0        60       444      15'124         0          0            0        0\n        'reduced_costs':            41       4'501      20'127             0        11       444      15'124         0          0            0        0\n\nLp stats            Component  Iterations  AddedCuts  OPTIMAL  DUAL_F.  DUAL_U.\n         'max_lp':          1       3'987          0        2        1        0\n   'pseudo_costs':          1       7'897          0       15      106       48\n  'reduced_costs':          1       8'781          0       16      138       39\n\nLp dimension            Final dimension of first component\n         'max_lp':  1294 rows, 3943 columns, 36453 entries\n   'pseudo_costs':   461 rows, 3943 columns, 13384 entries\n  'reduced_costs':   511 rows, 3943 columns, 14720 entries\n\nLp debug            CutPropag  CutEqPropag  Adjust  Overflow  Bad  BadScaling\n         'max_lp':          0            0       3         0    0           0\n   'pseudo_costs':          0            0     123         0    0           0\n  'reduced_costs':          0            0     130         0    0           0\n\nLp pool             Constraints  Updates  Simplif  Merged  Shortened  Split  Strenghtened  Cuts/Call\n         'max_lp':        1'294        0        0       0          0      0             0        0/0\n   'pseudo_costs':        1'294        0        0       0          0      0             0        0/0\n  'reduced_costs':        1'294        0        0       0          0      0             0        0/0\n\nLNS stats           Improv/Calls  Closed  Difficulty  TimeLimit\n  'graph_arc_lns':           3/6     50%    4.71e-01       0.10\n  'graph_cst_lns':           1/6     50%    4.58e-01       0.10\n  'graph_dec_lns':           2/6     50%    4.92e-01       0.10\n  'graph_var_lns':           0/6     67%    7.70e-01       0.10\n      'rins/rens':           0/4     25%    1.79e-01       0.10\n    'rnd_cst_lns':           2/6     50%    4.71e-01       0.10\n    'rnd_var_lns':           4/6     50%    4.92e-01       0.10\n\nLS stats                            Batches  Restarts/Perturbs  LinMoves  GenMoves  CompoundMoves  Bactracks  WeightUpdates  ScoreComputed\n                     'fj_restart':        1                  1       205         0              0          0              9          3'940\n                 'ls_lin_restart':        1                  1     4'592         0              0          0          2'415          3'943\n           'ls_lin_restart_decay':        1                  1    17'192         0              0          0            824          7'886\n  'ls_lin_restart_decay_compound':        1                  1         0     1'242             10        616              1         36'992\n         'ls_lin_restart_perturb':        3                  3    22'057         0              0          0         10'325          8'140\n    'ls_restart_compound_perturb':        1                  1         0     9'594            116      4'739             11        237'210\n               'ls_restart_decay':        4                  4    33'855         0              0          0          1'802         20'342\n       'ls_restart_decay_perturb':        1                  1    17'228         0              0          0            822          7'886\n\nSolutions (35)                      Num     Rank\n                           'core':    1    [2,2]\n                     'fj_restart':    1    [1,1]\n                  'graph_arc_lns':    2  [25,29]\n                  'graph_dec_lns':    2  [28,30]\n                 'ls_lin_restart':    1  [31,31]\n  'ls_lin_restart_decay_compound':    1  [26,26]\n         'ls_lin_restart_perturb':    2  [24,33]\n               'ls_restart_decay':    2  [23,34]\n                          'no_lp':   21   [3,27]\n                    'rnd_var_lns':    2  [32,35]\n\nObjective bounds     Num\n  'initial_domain':    1\n          'max_lp':    1\n    'pseudo_costs':    1\n   'reduced_costs':    1\n\nSolution repositories    Added  Queried  Synchro\n  'feasible solutions':     59      103       51\n   'fj solution hints':      0        0        0\n        'lp solutions':     26        7       10\n                'pump':      0        0\n\nCpSolverResponse summary:\nstatus: OPTIMAL\nobjective: 2989\nbest_bound: 2989\nintegers: 52\nbooleans: 3943\nconflicts: 0\nbranches: 3804\npropagations: 146367\ninteger_propagations: 1902\nrestarts: 3804\nlp_iterations: 0\nwalltime: 1.09284\nusertime: 1.09284\ndeterministic_time: 11.2523\ngap_integral: 20.8022\nsolution_fingerprint: 0x119bcd48ca812580\n\n", "type": "stream"}], "id": "nWHF", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Optimal Value = 2989.0</span></span>"}, "type": "data"}]}, {"code_hash": "4e832e8ca1d6374819f1638a3d10155e", "console": [{"name": "stdout", "text": "num_jobs=360\nnum_workers=138\n", "type": "stream"}], "id": "iLit", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}, {"code_hash": "48cb860a4d5a0b15db2f37e6254ab9bd", "console": [{"name": "stdout", "text": "\nStarting CP-SAT solver v9.13.4784\nParameters: max_time_in_seconds: 60 log_search_progress: true\nSetting number of workers to 12\n\n", "type": "stream"}, {"name": "stdout", "text": "Initial optimization model '': (model_fingerprint: 0x3a865ba7c720b275)\n#Variables: 49'818 (#bools: 138 in objective) (16'804 primary variables)\n  - 49'818 Booleans in [0,1]\n#kAtMostOne: 13'386 (#literals: 1'201'014)\n#kExactlyOne: 360 (#literals: 49'680)\n#kLinMax: 138 (#expressions: 49'680)\n#kLinear1: 32'876\n\nStarting presolve at 0.06s\n", "type": "stream"}, {"name": "stdout", "text": "Large number of fixed variables 32'876 / 49'818, doing a first remapping phase to go down to 16'942 variables.\nTODO: 32876 fixed variables still required in the model!\n", "type": "stream"}, {"name": "stdout", "text": "  1.90e-02s  0.00e+00d  [DetectDominanceRelations] \n  1.02e-01s  0.00e+00d  [PresolveToFixPoint] #num_loops=2 #num_dual_strengthening=1 \n  7.94e-04s  0.00e+00d  [ExtractEncodingFromLinear] #potential_supersets=13'746 \n", "type": "stream"}, {"name": "stdout", "text": "  1.58e-02s  0.00e+00d  [DetectDuplicateColumns] \n  4.06e-03s  0.00e+00d  [DetectDuplicateConstraints] #duplicates=2'604 \n", "type": "stream"}, {"name": "stdout", "text": "[Symmetry] Graph for symmetry has 94'844 nodes and 415'651 arcs.\n", "type": "stream"}, {"name": "stdout", "text": "[Symmetry] Symmetry computation done. time: 0.0203048 dtime: 0.0356038\n[SAT presolve] num removable Booleans: 0 / 16942\n[SAT presolve] num trivial clauses: 0\n[SAT presolve] [0s] clauses:16804 literals:33608 vars:16942 one_side_vars:16942 simple_definition:0 singleton_clauses:0\n[SAT presolve] [0.000496903s] clauses:16804 literals:33608 vars:16942 one_side_vars:16942 simple_definition:0 singleton_clauses:0\n[SAT presolve] [0.000756195s] clauses:16804 literals:33608 vars:16942 one_side_vars:16942 simple_definition:0 singleton_clauses:0\n", "type": "stream"}, {"name": "stdout", "text": "  7.28e-04s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  1.12e-01s  2.68e-01d  [Probe] #probed=33'884 \n", "type": "stream"}, {"name": "stdout", "text": "  1.67e-01s  1.00e+00d *[MaxClique] Merged 27'586(364'963 literals) into 6'919(202'306 literals) at_most_ones. \n", "type": "stream"}, {"name": "stdout", "text": "  1.18e-02s  0.00e+00d  [DetectDominanceRelations] \n  2.48e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  5.27e-03s  0.00e+00d  [ProcessAtMostOneAndLinear] \n  6.76e-04s  0.00e+00d  [DetectDuplicateConstraints] \n  4.43e-04s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  1.21e-04s  0.00e+00d  [DetectDominatedLinearConstraints] \n  9.88e-05s  0.00e+00d  [DetectDifferentVariables] \n", "type": "stream"}, {"name": "stdout", "text": "  1.19e-02s  1.12e-03d  [ProcessSetPPC] #relevant_constraints=7'279 #num_inclusions=2'021 \n  4.69e-04s  0.00e+00d  [FindAlmostIdenticalLinearConstraints] \n  1.43e-02s  1.71e-02d  [FindBigAtMostOneAndLinearOverlap] \n  1.94e-03s  8.52e-04d  [FindBigVerticalLinearOverlap] \n  5.69e-04s  0.00e+00d  [FindBigHorizontalLinearOverlap] \n  7.10e-04s  0.00e+00d  [MergeClauses] \n  1.08e-02s  0.00e+00d  [DetectDominanceRelations] \n  2.18e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  1.04e-02s  0.00e+00d  [DetectDominanceRelations] \n  2.10e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  3.32e-03s  0.00e+00d  [DetectDuplicateColumns] \n  6.10e-04s  0.00e+00d  [DetectDuplicateConstraints] \n", "type": "stream"}, {"name": "stdout", "text": "[Symmetry] Graph for symmetry has 55'311 nodes and 170'649 arcs.\n[Symmetry] Symmetry computation done. time: 0.00664555 dtime: 0.0148827\n[SAT presolve] num removable Booleans: 0 / 16942\n[SAT presolve] num trivial clauses: 0\n[SAT presolve] [0s] clauses:93 literals:186 vars:97 one_side_vars:97 simple_definition:0 singleton_clauses:0\n[SAT presolve] [3.133e-05s] clauses:93 literals:186 vars:97 one_side_vars:97 simple_definition:0 singleton_clauses:0\n[SAT presolve] [0.000253431s] clauses:93 literals:186 vars:97 one_side_vars:97 simple_definition:0 singleton_clauses:0\n", "type": "stream"}, {"name": "stdout", "text": "  6.67e-04s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  8.30e-02s  2.11e-01d  [Probe] #probed=33'884 \n", "type": "stream"}, {"name": "stdout", "text": "  1.40e-01s  7.76e-01d  [MaxClique] Merged 4'898(153'517 literals) into 4'805(153'339 literals) at_most_ones. \n", "type": "stream"}, {"name": "stdout", "text": "  1.05e-02s  0.00e+00d  [DetectDominanceRelations] \n  2.19e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  4.74e-03s  0.00e+00d  [ProcessAtMostOneAndLinear] \n  5.93e-04s  0.00e+00d  [DetectDuplicateConstraints] \n  4.22e-04s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  1.45e-04s  0.00e+00d  [DetectDominatedLinearConstraints] \n  1.12e-04s  0.00e+00d  [DetectDifferentVariables] \n", "type": "stream"}, {"name": "stdout", "text": "  7.78e-03s  7.92e-04d  [ProcessSetPPC] #relevant_constraints=5'165 \n  4.67e-04s  0.00e+00d  [FindAlmostIdenticalLinearConstraints] \n  1.39e-02s  1.71e-02d  [FindBigAtMostOneAndLinearOverlap] \n  1.42e-03s  8.51e-04d  [FindBigVerticalLinearOverlap] \n  4.35e-04s  0.00e+00d  [FindBigHorizontalLinearOverlap] \n  5.79e-04s  0.00e+00d  [MergeClauses] \n", "type": "stream"}, {"name": "stdout", "text": "  1.03e-02s  0.00e+00d  [DetectDominanceRelations] \n  2.08e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n", "type": "stream"}, {"name": "stdout", "text": "  1.04e-02s  0.00e+00d  [DetectDominanceRelations] \n  2.10e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  3.36e-03s  0.00e+00d  [DetectDuplicateColumns] \n  7.02e-04s  0.00e+00d  [DetectDuplicateConstraints] \n", "type": "stream"}, {"name": "stdout", "text": "[Symmetry] Graph for symmetry has 55'121 nodes and 170'281 arcs.\n[Symmetry] Symmetry computation done. time: 0.0065947 dtime: 0.0148317\n", "type": "stream"}, {"name": "stdout", "text": "  6.74e-04s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  8.21e-02s  2.11e-01d  [Probe] #probed=33'884 \n", "type": "stream"}, {"name": "stdout", "text": "  1.39e-01s  7.75e-01d  [MaxClique] \n  1.04e-02s  0.00e+00d  [DetectDominanceRelations] \n  2.20e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n", "type": "stream"}, {"name": "stdout", "text": "  4.81e-03s  0.00e+00d  [ProcessAtMostOneAndLinear] \n  6.37e-04s  0.00e+00d  [DetectDuplicateConstraints] \n  4.57e-04s  0.00e+00d  [DetectDuplicateConstraintsWithDifferentEnforcements] \n  1.75e-04s  0.00e+00d  [DetectDominatedLinearConstraints] \n  1.28e-04s  0.00e+00d  [DetectDifferentVariables] \n", "type": "stream"}, {"name": "stdout", "text": "  7.77e-03s  7.92e-04d  [ProcessSetPPC] #relevant_constraints=5'165 \n  4.41e-04s  0.00e+00d  [FindAlmostIdenticalLinearConstraints] \n  1.40e-02s  1.71e-02d  [FindBigAtMostOneAndLinearOverlap] \n  1.45e-03s  8.51e-04d  [FindBigVerticalLinearOverlap] \n  4.75e-04s  0.00e+00d  [FindBigHorizontalLinearOverlap] \n", "type": "stream"}, {"name": "stdout", "text": "  6.70e-04s  0.00e+00d  [MergeClauses] \n", "type": "stream"}, {"name": "stdout", "text": "  1.05e-02s  0.00e+00d  [DetectDominanceRelations] \n  2.14e-02s  0.00e+00d  [PresolveToFixPoint] #num_loops=1 #num_dual_strengthening=1 \n  6.99e-03s  0.00e+00d  [ExpandObjective] #entries=777'366 #tight_variables=16'804 #tight_constraints=360 \n", "type": "stream"}, {"name": "stdout", "text": "\nPresolve summary:\n  - 0 affine relations were detected.\n  - rule 'TODO dual: only one blocking constraint?' was applied 151'236 times.\n  - rule 'TODO dual: only one unspecified blocking constraint?' was applied 1'242 times.\n  - rule 'TODO linear2: contains a Boolean.' was applied 33'608 times.\n  - rule 'at_most_one: transformed into max clique.' was applied 2 times.\n  - rule 'bool_or: implications' was applied 16'804 times.\n  - rule 'duplicate: removed constraint' was applied 2'604 times.\n  - rule 'lin_max: removed exprs' was applied 138 times.\n  - rule 'lin_max: rewrite with precedences' was applied 138 times.\n  - rule 'linear1: x in domain' was applied 32'876 times.\n  - rule 'linear: fixed or dup variables' was applied 32'876 times.\n  - rule 'linear: negative clause' was applied 16'804 times.\n  - rule 'presolve: 32876 unused variables removed.' was applied 1 time.\n  - rule 'presolve: iteration' was applied 3 times.\n  - rule 'setppc: removed dominated constraints' was applied 2'021 times.\n\nPresolved optimization model '': (model_fingerprint: 0x88efa9976c7e3b19)\n#Variables: 16'942 (#bools: 138 in objective) (16'582 primary variables)\n  - 16'942 Booleans in [0,1]\n#kAtMostOne: 4'805 (#literals: 153'339)\n#kExactlyOne: 360 (#literals: 16'804)\n", "type": "stream"}, {"name": "stdout", "text": "[Symmetry] Graph for symmetry has 22'245 nodes and 170'281 arcs.\n[Symmetry] Symmetry computation done. time: 0.00554022 dtime: 0.0128591\n\nPreloading model.\n#Bound   1.36s best:inf   next:[0,16804]  initial_domain\n#Model   1.37s var:16942/16942 constraints:5165/5165\n\nStarting search at 1.37s with 12 workers.\n8 full problem subsolvers: [core, default_lp, max_lp, no_lp, pseudo_costs, quick_restart, quick_restart_no_lp, reduced_costs]\n4 first solution subsolvers: [fj(2), fs_random, fs_random_no_lp]\n10 interleaved subsolvers: [feasibility_pump, graph_arc_lns, graph_cst_lns, graph_dec_lns, graph_var_lns, ls, ls_lin, rins/rens, rnd_cst_lns, rnd_var_lns]\n3 helper subsolvers: [neighborhood_helper, synchronization_agent, update_gap_integral]\n\n", "type": "stream"}, {"name": "stdout", "text": "#1       1.54s best:16804 next:[0,16803]  fs_random_no_lp\n#2       1.57s best:15273 next:[0,15272]  core\n", "type": "stream"}, {"name": "stdout", "text": "#3       1.64s best:15170 next:[0,15169]  quick_restart_no_lp\n#4       1.66s best:15152 next:[0,15151]  quick_restart_no_lp\n#5       1.67s best:15117 next:[0,15116]  no_lp\n#6       1.68s best:15114 next:[0,15113]  no_lp\n", "type": "stream"}, {"name": "stdout", "text": "#7       1.69s best:14998 next:[0,14997]  no_lp\n#8       1.69s best:14984 next:[0,14983]  no_lp\n#9       1.70s best:14971 next:[0,14970]  no_lp\n#10      1.71s best:14960 next:[0,14959]  no_lp\n", "type": "stream"}, {"name": "stdout", "text": "#11      1.71s best:14831 next:[0,14830]  no_lp\n#12      1.71s best:14778 next:[0,14777]  rnd_var_lns (d=5.00e-01 s=11 t=0.10 p=0.00 stall=0 h=base)\n#13      1.72s best:14686 next:[0,14685]  no_lp\n", "type": "stream"}, {"name": "stdout", "text": "#14      1.85s best:14588 next:[0,14587]  core\n", "type": "stream"}, {"name": "stdout", "text": "#15      1.89s best:14461 next:[0,14460]  ls_lin_restart_perturb(batch:1 lin{mvs:205 evals:4'696} #w_updates:128 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#16      2.05s best:14458 next:[0,14457]  ls_restart(batch:1 lin{mvs:106 evals:3'226} #w_updates:65 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#17      2.76s best:14457 next:[0,14456]  ls_restart_decay(batch:1 lin{mvs:264 evals:7'540} #w_updates:81 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#18      2.89s best:14328 next:[0,14327]  graph_arc_lns (d=2.71e-01 s=52 t=0.10 p=0.40 stall=4 h=base)\n", "type": "stream"}, {"name": "stdout", "text": "#19      3.65s best:14327 next:[0,14326]  ls_lin_restart_decay_compound(batch:1 lin{mvs:0 evals:162'540} gen{mvs:7'018 evals:0} comp{mvs:36 btracks:3'491} #w_updates:4 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#20      7.01s best:14326 next:[0,14325]  ls_restart_decay_compound_perturb(batch:1 lin{mvs:0 evals:70'414} gen{mvs:1'966 evals:0} comp{mvs:26 btracks:970} #w_updates:1 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#21      8.47s best:14325 next:[0,14324]  ls_restart_decay_compound(batch:1 lin{mvs:0 evals:105'554} gen{mvs:3'856 evals:0} comp{mvs:14 btracks:1'921} #w_updates:1 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#22     31.54s best:14324 next:[0,14323]  ls_lin_restart(batch:1 lin{mvs:2'622 evals:16'793} #w_updates:749 #perturb:0)\n", "type": "stream"}, {"name": "stdout", "text": "#Done   33.06s max_lp\n#Done   33.06s quick_restart_no_lp\n#Done   33.06s quick_restart\n", "type": "stream"}, {"name": "stdout", "text": "\nTask timing                      n [     min,      max]      avg      dev     time         n [     min,      max]      avg      dev    dtime\n                 'core':         1 [  31.69s,   31.69s]   31.69s   0.00ns   31.69s         1 [   1.05m,    1.05m]    1.05m   0.00ns    1.05m\n           'default_lp':         1 [  31.69s,   31.69s]   31.69s   0.00ns   31.69s         1 [   1.02m,    1.02m]    1.02m   0.00ns    1.02m\n     'feasibility_pump':         1 [249.55ms, 249.55ms] 249.55ms   0.00ns 249.55ms         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n                   'fj':         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n                   'fj':         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n            'fs_random':         1 [164.09ms, 164.09ms] 164.09ms   0.00ns 164.09ms         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n      'fs_random_no_lp':         1 [165.28ms, 165.28ms] 165.28ms   0.00ns 165.28ms         0 [  0.00ns,   0.00ns]   0.00ns   0.00ns   0.00ns\n        'graph_arc_lns':       161 [ 34.70ms, 195.55ms]  88.99ms  32.84ms   14.33s       160 [ 29.46us, 106.44ms]  58.79ms  46.62ms    9.41s\n        'graph_cst_lns':       161 [ 36.62ms, 167.61ms]  86.12ms  30.01ms   13.86s       160 [ 61.14us, 100.30ms]  53.12ms  48.56ms    8.50s\n        'graph_dec_lns':       158 [ 47.69ms, 224.64ms] 101.96ms  34.34ms   16.11s       158 [  2.52us, 106.16ms]  54.16ms  50.01ms    8.56s\n        'graph_var_lns':       161 [ 30.48ms, 217.75ms]  70.55ms  31.14ms   11.36s       161 [ 49.41us, 100.30ms]  50.68ms  49.46ms    8.16s\n                   'ls':       119 [  4.43ms, 198.40ms] 135.30ms  36.26ms   16.10s       118 [  1.55ms, 100.40ms]  96.62ms  15.73ms   11.40s\n               'ls_lin':       113 [ 30.98ms, 285.22ms] 141.70ms  34.32ms   16.01s       113 [  2.24ms, 100.47ms]  98.32ms  11.91ms   11.11s\n               'max_lp':         1 [  31.69s,   31.69s]   31.69s   0.00ns   31.69s         1 [  14.67s,   14.67s]   14.67s   0.00ns   14.67s\n                'no_lp':         1 [  31.69s,   31.69s]   31.69s   0.00ns   31.69s         1 [   1.23m,    1.23m]    1.23m   0.00ns    1.23m\n         'pseudo_costs':         1 [  31.69s,   31.69s]   31.69s   0.00ns   31.69s         1 [  10.90s,   10.90s]   10.90s   0.00ns   10.90s\n        'quick_restart':         1 [  31.69s,   31.69s]   31.69s   0.00ns   31.69s         1 [  24.17s,   24.17s]   24.17s   0.00ns   24.17s\n  'quick_restart_no_lp':         1 [  31.69s,   31.69s]   31.69s   0.00ns   31.69s         1 [  24.14s,   24.14s]   24.14s   0.00ns   24.14s\n        'reduced_costs':         1 [  31.69s,   31.69s]   31.69s   0.00ns   31.69s         1 [   9.60s,    9.60s]    9.60s   0.00ns    9.60s\n            'rins/rens':       161 [  4.99ms, 328.60ms]  66.13ms  48.92ms   10.65s       134 [ 10.00ns, 100.45ms]  56.47ms  46.74ms    7.57s\n          'rnd_cst_lns':       161 [ 31.19ms, 320.05ms]  79.04ms  37.69ms   12.73s       161 [868.00ns, 100.30ms]  53.22ms  48.33ms    8.57s\n          'rnd_var_lns':       161 [ 38.58ms, 230.87ms]  88.86ms  34.34ms   14.31s       161 [764.00ns, 104.12ms]  54.66ms  48.66ms    8.80s\n\nSearch stats               Bools  Conflicts   Branches  Restarts  BoolPropag  IntegerPropag\n                 'core':  16'942    128'260    413'607    68'511  13'060'001         56'675\n           'default_lp':  16'942    119'066    353'468   103'103  45'863'878        813'583\n            'fs_random':  16'942          0     33'884    33'884   1'715'984         17'081\n      'fs_random_no_lp':  16'942          0     34'381    33'885   1'732'429         17'624\n               'max_lp':  16'942         61    101'671    68'490   3'525'785      3'658'646\n                'no_lp':  16'942    150'259    460'846   103'118  51'338'814        506'601\n         'pseudo_costs':  16'942      2'160    325'302   172'308   9'060'245      9'459'024\n        'quick_restart':  16'942     30'909  5'914'246   244'404  58'401'023      1'812'833\n  'quick_restart_no_lp':  16'942     30'335  5'569'985   244'347  57'627'344      1'754'897\n        'reduced_costs':  16'942      2'611    445'866   206'940  11'909'878     11'993'416\n\nSAT stats                 ClassicMinim  LitRemoved   LitLearned  LitForgotten  Subsumed  MClauses  MDecisions  MLitTrue  MSubsumed  MLitRemoved  MReused\n                 'core':       102'171     752'791   98'078'959    83'487'034     1'542       720      32'888         0          0            0        0\n           'default_lp':        89'129     942'894  127'343'017   104'121'417     1'229     1'440      65'776         0          0            0        0\n            'fs_random':             0           0            0             0         0         0           0         0          0            0        0\n      'fs_random_no_lp':             0           0            0             0         0         0           0         0          0            0        0\n               'max_lp':            19      19'258       33'821             0         0       720      32'888         0          0            0        0\n                'no_lp':       106'238     811'997  148'444'280   134'586'706     3'728     1'440      65'776         0          0            0        0\n         'pseudo_costs':         1'328      36'744    2'098'347             0       108     2'880     131'552         0          0            0        0\n        'quick_restart':         6'737      26'253   12'599'073     8'660'125       289     4'320     197'328         0          0            0        0\n  'quick_restart_no_lp':         6'124      24'378   12'710'681     8'827'262       282     4'320     197'328         0          0            0        0\n        'reduced_costs':         1'146     243'873    2'598'860             0         2     3'600     164'440         0          0            0        0\n\nLp stats            Component  Iterations  AddedCuts  OPTIMAL  DUAL_F.  DUAL_U.\n         'max_lp':          1      28'535          0        0    1'023       12\n   'pseudo_costs':          1      49'451          0       29    3'621      842\n  'reduced_costs':          1      85'219          0       16    7'063      728\n\nLp dimension              Final dimension of first component\n         'max_lp':  5165 rows, 16942 columns, 174236 entries\n   'pseudo_costs':   1360 rows, 16942 columns, 50791 entries\n  'reduced_costs':    810 rows, 16942 columns, 31483 entries\n\nLp debug            CutPropag  CutEqPropag  Adjust  Overflow  Bad  BadScaling\n         'max_lp':          0            0      25         0    0           0\n   'pseudo_costs':          0            0   1'276         0    0           0\n  'reduced_costs':          0            0   2'815         0    0           0\n\nLp pool             Constraints  Updates  Simplif  Merged  Shortened  Split  Strenghtened  Cuts/Call\n         'max_lp':        5'165        0        0       0          0      0             0        0/0\n   'pseudo_costs':        5'165        0        0       0          0      0             0        0/0\n  'reduced_costs':        5'165        0        0       0          0      0             0        0/0\n\nLNS stats           Improv/Calls  Closed  Difficulty  TimeLimit\n  'graph_arc_lns':         2/160     49%    2.62e-01       0.11\n  'graph_cst_lns':         7/160     49%    2.71e-01       0.10\n  'graph_dec_lns':         1/158     49%    2.65e-01       0.11\n  'graph_var_lns':         9/161     50%    2.56e-01       0.10\n      'rins/rens':        30/134     49%    8.15e-02       0.10\n    'rnd_cst_lns':         7/161     50%    2.72e-01       0.10\n    'rnd_var_lns':         2/161     50%    3.34e-01       0.10\n\nLS stats                                    Batches  Restarts/Perturbs  LinMoves  GenMoves  CompoundMoves  Bactracks  WeightUpdates  ScoreComputed\n                         'ls_lin_restart':       16                 14   244'542         0              0          0         78'638        270'923\n                'ls_lin_restart_compound':       10                  9         0    74'112            389     36'835             72      2'423'901\n        'ls_lin_restart_compound_perturb':       10                  8         0    74'138            433     36'837             79      2'337'287\n                   'ls_lin_restart_decay':       14                 12   169'749         0              0          0          5'208        270'936\n          'ls_lin_restart_decay_compound':       23                 10         0   174'371          1'838     86'243             97      4'651'979\n  'ls_lin_restart_decay_compound_perturb':       24                 11         0   186'861          1'610     92'614            115      4'940'463\n           'ls_lin_restart_decay_perturb':        5                  4    60'650         0              0          0          1'856        101'640\n                 'ls_lin_restart_perturb':       11                  9   162'413         0              0          0         52'374        174'116\n                             'ls_restart':       10                  7   145'953         0              0          0         48'725        155'704\n                    'ls_restart_compound':       10                  9         0    73'811            374     36'681             69      2'402'426\n            'ls_restart_compound_perturb':       15                 11         0   105'120            600     52'230             83      3'274'324\n                       'ls_restart_decay':       21                 15   229'876         0              0          0          6'993        405'364\n              'ls_restart_decay_compound':       11                  7         0    79'488            895     39'280             54      2'209'560\n      'ls_restart_decay_compound_perturb':       25                 14         0   190'515          1'400     94'531            127      5'071'552\n               'ls_restart_decay_perturb':       15                  8   181'258         0              0          0          5'299        344'776\n                     'ls_restart_perturb':       12                 11   194'178         0              0          0         60'683        203'304\n\nSolutions (22)                          Num     Rank\n                               'core':    2   [2,14]\n                    'fs_random_no_lp':    1    [1,1]\n                      'graph_arc_lns':    1  [18,18]\n                     'ls_lin_restart':    1  [22,22]\n      'ls_lin_restart_decay_compound':    1  [19,19]\n             'ls_lin_restart_perturb':    1  [15,15]\n                         'ls_restart':    1  [16,16]\n                   'ls_restart_decay':    1  [17,17]\n          'ls_restart_decay_compound':    1  [21,21]\n  'ls_restart_decay_compound_perturb':    1  [20,20]\n                              'no_lp':    8   [5,13]\n                'quick_restart_no_lp':    2    [3,4]\n                        'rnd_var_lns':    1  [12,12]\n\nObjective bounds     Num\n  'initial_domain':    1\n\nSolution repositories    Added  Queried  Synchro\n  'feasible solutions':    873    2'541      552\n   'fj solution hints':      0        0        0\n        'lp solutions':  1'034      161      509\n                'pump':      0        0\n\nImproving bounds shared      Num  Sym\n                'max_lp':  2'618    0\n\nClauses shared    Num\n       'max_lp':    1\n\nCpSolverResponse summary:\nstatus: OPTIMAL\nobjective: 14324\nbest_bound: 14324\nintegers: 151\nbooleans: 16942\nconflicts: 0\nbranches: 34381\npropagations: 1732429\ninteger_propagations: 17624\nrestarts: 33885\nlp_iterations: 0\nwalltime: 33.1091\nusertime: 33.1091\ndeterministic_time: 366.643\ngap_integral: 1015.09\nsolution_fingerprint: 0xccfa003ffc48c1e8\n\n", "type": "stream"}], "id": "ZHCJ", "outputs": [{"data": {"text/html": "<span class=\"markdown prose dark:prose-invert\"><span class=\"paragraph\">Optimal Value = 14324.0</span></span>"}, "type": "data"}]}, {"code_hash": null, "console": [], "id": "ROlb", "outputs": [{"data": {"text/plain": ""}, "type": "data"}]}], "metadata": {"marimo_version": "0.14.0"}, "version": "1"},
            "runtimeConfig": null,
        };
    </script>
  
<marimo-code hidden="">
    import%20marimo%0A%0A__generated_with%20%3D%20%220.14.0%22%0Aapp%20%3D%20marimo.App(width%3D%22medium%22)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20marimo%20as%20mo%0A%20%20%20%20return%20(mo%2C)%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20import%20os%0A%20%20%20%20import%20pathlib%0A%20%20%20%20from%20typing%20import%20Self%0A%20%20%20%20import%20pydantic%0A%20%20%20%20import%20networkx%20as%20nx%0A%20%20%20%20from%20ortools.sat.python%20import%20cp_model%0A%20%20%20%20return%20Self%2C%20cp_model%2C%20nx%2C%20os%2C%20pathlib%2C%20pydantic%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%20%E3%82%B7%E3%83%95%E3%83%88%E6%9C%80%E9%81%A9%E5%8C%96%E5%95%8F%E9%A1%8C%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(r%22%22%22%23%23%20%E5%95%8F%E9%A1%8C%E8%A8%AD%E5%AE%9A%22%22%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%E5%90%84%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AF%E4%BA%88%E3%82%81%E5%AE%9F%E8%A1%8C%E6%99%82%E9%96%93%E3%81%8C%E4%B8%8E%E3%81%88%E3%82%89%E3%82%8C%E3%81%A6%E3%81%84%E3%82%8B.%20%0A%20%20%20%20%E3%81%9D%E3%81%AE%E4%B8%8A%E3%81%A7%E4%BD%9C%E6%A5%AD%E5%93%A1%E3%82%92%E5%90%84%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AB%E5%89%B2%E3%82%8A%E5%BD%93%E3%81%A6%2C%20%E5%90%8C%E3%81%98%E4%BD%9C%E6%A5%AD%E5%93%A1%E3%81%8C%E5%90%8C%E4%B8%80%E6%99%82%E5%88%BB%E3%81%AB%E8%A4%87%E6%95%B0%E3%81%AE%E3%82%BF%E3%82%B9%E3%82%AF%E3%82%92%E5%87%A6%E7%90%86%E3%81%97%E3%81%AA%E3%81%84%E3%82%88%E3%81%86%E3%81%AB%E3%81%99%E3%82%8B.%0A%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell(hide_code%3DTrue)%0Adef%20_(mo)%3A%0A%20%20%20%20mo.md(%0A%20%20%20%20%20%20%20%20r%22%22%22%0A%20%20%20%20%23%23%23%20%E5%AE%9A%E6%95%B0%0A%0A%20%20%20%20-%20%24J%24%3A%20%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E9%9B%86%E5%90%88%0A%20%20%20%20-%20%24W%24%3A%20%E4%BD%9C%E6%A5%AD%E5%93%A1%E3%81%AE%E9%9B%86%E5%90%88%0A%20%20%20%20-%20%24b_w%24%3A%20%E4%BD%9C%E6%A5%AD%E5%93%A1%20%24w%24%20%E3%81%AE%E5%9B%BA%E5%AE%9A%E8%B2%BB%E7%94%A8%0A%20%20%20%20-%20%24s_j%2C%20f_j%24%3A%20%E3%82%B8%E3%83%A7%E3%83%96%20%24j%24%20%E3%81%AE%E9%96%8B%E5%A7%8B%E6%99%82%E5%88%BB%E3%81%A8%E7%B5%82%E4%BA%86%E6%99%82%E5%88%BB%0A%20%20%20%20-%20%24J_w%24%3A%20%E4%BD%9C%E6%A5%AD%E5%93%A1%20%24w%24%20%E3%81%8C%E9%81%82%E8%A1%8C%E3%81%A7%E3%81%8D%E3%82%8B%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E9%9B%86%E5%90%88%0A%20%20%20%20-%20%24W_j%24%3A%20%E3%82%B8%E3%83%A7%E3%83%96%20%24j%24%20%E3%82%92%E9%81%82%E8%A1%8C%E3%81%A7%E3%81%8D%E3%82%8B%E4%BD%9C%E6%A5%AD%E5%93%A1%E3%81%AE%E9%9B%86%E5%90%88%0A%20%20%20%20-%20%24G%20%3D%20(J%2C%20E)%24%3A%20%E3%82%B8%E3%83%A7%E3%83%96%E3%82%92%E7%82%B9%2C%20%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E4%BD%9C%E6%A5%AD%E6%99%82%E9%96%93%E3%81%AB%E9%87%8D%E3%81%AA%E3%82%8A%E3%81%8C%E3%81%82%E3%82%8B%E3%81%A8%E3%81%8D%E7%82%B9%E3%81%AE%E9%96%93%E3%81%AB%E7%B7%9A%E3%82%92%E5%BC%B5%E3%82%8B%E3%81%A8%E3%81%84%E3%81%86%E3%83%AB%E3%83%BC%E3%83%AB%E3%81%A7%E4%BD%9C%E6%88%90%E3%81%97%E3%81%9F%E3%82%B0%E3%83%A9%E3%83%95%0A%20%20%20%20-%20%24C%24%3A%20%E5%8C%BA%E9%96%93%E3%82%B0%E3%83%A9%E3%83%95%20%24G%24%20%E3%81%AB%E5%AF%BE%E3%81%99%E3%82%8B%E6%A5%B5%E5%A4%A7%E3%82%AF%E3%83%AA%E3%83%BC%E3%82%AF%E3%81%AE%E9%9B%86%E5%90%88%0A%20%20%20%20-%20%24J_c%24%3A%20%E3%82%AF%E3%83%AA%E3%83%BC%E3%82%AF%20%24c%24%20%E3%81%AB%E5%90%AB%E3%81%BE%E3%82%8C%E3%82%8B%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AE%E9%9B%86%E5%90%88%0A%0A%20%20%20%20%23%23%23%20%E6%B1%BA%E5%AE%9A%E5%A4%89%E6%95%B0%0A%0A%20%20%20%20-%20%24x_%7Bjw%7D%20%5Cin%20%5C%7B%200%2C%201%20%5C%7D%24%3A%20%E3%82%B8%E3%83%A7%E3%83%96%20%24j%24%20%E3%81%AB%E4%BD%9C%E6%A5%AD%E5%93%A1%20%24w%24%20%E3%82%92%E5%89%B2%E3%82%8A%E5%BD%93%E3%81%A6%E3%82%8B%E6%99%82%20%241%24%2C%20%E3%81%9D%E3%82%8C%E4%BB%A5%E5%A4%96%E3%81%AE%E3%81%A8%E3%81%8D%20%240%24.%20%0A%20%20%20%20-%20%24y_w%20%5Cin%20%5C%7B%200%2C%201%20%5C%7D%24%3A%20%E4%BD%9C%E6%A5%AD%E5%93%A1%20%24w%24%20%E3%81%8C%E4%BD%BF%E3%82%8F%E3%82%8C%E3%82%8B%E3%81%A8%E3%81%8D%20%241%24%2C%20%E3%81%9D%E3%82%8C%E4%BB%A5%E5%A4%96%E3%81%AE%E3%81%A8%E3%81%8D%20%240%24.%20%0A%0A%20%20%20%20%23%23%23%20%E5%88%B6%E7%B4%84%E6%9D%A1%E4%BB%B6%0A%0A%20%20%20%20-%20%24%5Csum_%7Bw%20%5Cin%20W%7D%20x_%7Bjw%7D%20%3D%201%20%5Cquad%20(%5Cforall%20j%20%5Cin%20J)%24%3A%20%E5%90%84%E3%82%B8%E3%83%A7%E3%83%96%E3%81%AF%201%20%E4%BA%BA%E3%81%AE%E4%BD%9C%E6%A5%AD%E5%93%A1%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E5%BF%85%E3%81%9A%E9%81%82%E8%A1%8C%E3%81%95%E3%82%8C%E3%82%8B.%20%0A%20%20%20%20-%20%24%5Csum_%7Bj%20%5Cin%20J_c%20%5Ccap%20J_w%7D%20x_%7Bjw%7D%20%5Cleq%20y_w%20%5Cquad%20(%5Cforall%20w%20%5Cin%20W%2C%20%5Cspace%20%5Cforall%20c%20%5Cin%20C)%24%3A%20%E5%90%84%E4%BD%9C%E6%A5%AD%E5%93%A1%E3%81%AF%E5%90%8C%E6%99%82%E3%81%AB%202%20%E3%81%A4%E4%BB%A5%E4%B8%8A%E3%81%AE%E3%82%B8%E3%83%A7%E3%83%96%E3%82%92%E5%87%A6%E7%90%86%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84.%20%0A%0A%20%20%20%20%23%23%23%20%E7%9B%AE%E7%9A%84%E9%96%A2%E6%95%B0%0A%0A%20%20%20%20-%20%24%5Cmin%20%5Csum_%7Bw%20%5Cin%20W%7D%20b_w%20y_w%24%3A%20%E4%BD%9C%E6%A5%AD%E5%93%A1%E3%81%AE%E5%9B%BA%E5%AE%9A%E8%B2%BB%E7%94%A8%E3%81%AE%E7%B7%8F%E5%92%8C%E3%82%92%E6%9C%80%E5%B0%8F%E5%8C%96%0A%20%20%20%20%22%22%22%0A%20%20%20%20)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(os%2C%20pathlib)%3A%0A%20%20%20%20current_dir%20%3D%20pathlib.Path(os.path.dirname(__file__))%0A%20%20%20%20data_dir%20%3D%20current_dir%20%2F%20%22data%22%20%2F%20%22ptask%22%0A%20%20%20%20return%20(data_dir%2C)%0A%0A%0A%40app.cell%0Adef%20_(data_dir)%3A%0A%20%20%20%20fname1%20%3D%20data_dir%20%2F%20%22data_10_51_111_66.dat%22%0A%0A%20%20%20%20with%20open(fname1)%20as%20f%3A%0A%20%20%20%20%20%20%20%20_lines%20%3D%20f.readlines()%0A%0A%20%20%20%20_lines%0A%20%20%20%20return%20(fname1%2C)%0A%0A%0A%40app.cell%0Adef%20_(Self%2C%20pydantic)%3A%0A%20%20%20%20class%20Job(pydantic.BaseModel)%3A%0A%20%20%20%20%20%20%20%20model_config%20%3D%20pydantic.ConfigDict(frozen%3DTrue)%0A%0A%20%20%20%20%20%20%20%20start%3A%20int%0A%20%20%20%20%20%20%20%20finish%3A%20int%0A%0A%20%20%20%20%20%20%20%20def%20intersect_with(self%2C%20other%3A%20Self)%20-%3E%20bool%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20self.start%20%3C%3D%20other.start%20and%20self.finish%20%3E%20other.start%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20True%0A%20%20%20%20%20%20%20%20%20%20%20%20if%20other.start%20%3C%3D%20self.start%20and%20other.finish%20%3E%20self.start%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20return%20True%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20False%0A%20%20%20%20return%20(Job%2C)%0A%0A%0A%40app.cell%0Adef%20_(pydantic)%3A%0A%20%20%20%20class%20Worker(pydantic.BaseModel)%3A%0A%20%20%20%20%20%20%20%20model_config%20%3D%20pydantic.ConfigDict(frozen%3DTrue)%0A%0A%20%20%20%20%20%20%20%20cost%3A%20int%0A%20%20%20%20%20%20%20%20jobs%3A%20list%5Bint%5D%0A%20%20%20%20return%20(Worker%2C)%0A%0A%0A%40app.cell%0Adef%20_(Job%2C%20Self%2C%20Worker%2C%20os%2C%20pydantic)%3A%0A%20%20%20%20class%20Condition(pydantic.BaseModel)%3A%0A%20%20%20%20%20%20%20%20model_config%20%3D%20pydantic.ConfigDict(frozen%3DTrue)%0A%0A%20%20%20%20%20%20%20%20jobs%3A%20list%5BJob%5D%0A%20%20%20%20%20%20%20%20workers%3A%20list%5BWorker%5D%0A%0A%20%20%20%20%20%20%20%20%40staticmethod%0A%20%20%20%20%20%20%20%20def%20from_file(path%3A%20str%20%7C%20os.PathLike)%20-%3E%20Self%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20jobs%20%3D%20%5B%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20workers%20%3D%20%5B%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20with%20open(path)%20as%20f%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20lines%20%3D%20f.readlines()%0A%20%20%20%20%20%20%20%20%20%20%20%20idx%20%3D%200%0A%20%20%20%20%20%20%20%20%20%20%20%20num_jobs%20%3D%20None%0A%20%20%20%20%20%20%20%20%20%20%20%20while%20idx%20%3C%20len(lines)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line%20%3D%20lines%5Bidx%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20line.startswith(%22Jobs%20%3D%20%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20num_jobs%3A%20int%20%3D%20int(line.split()%5B2%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22%7Bnum_jobs%3D%7D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20_%20in%20range(num_jobs)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20idx%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line%20%3D%20lines%5Bidx%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20start%2C%20finish%20%3D%20line.strip().split()%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20jobs.append(Job(start%3Dstart%2C%20finish%3Dfinish))%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20line.startswith(%22Qualifications%20%3D%20%22)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20num_workers%3A%20int%20%3D%20int(line.split()%5B2%5D)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20print(f%22%7Bnum_workers%3D%7D%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20_%20in%20range(num_workers)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20idx%20%2B%3D%201%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20line%20%3D%20lines%5Bidx%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20bw%2C%20jw%20%3D%20line.strip().split(%22%3A%22)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20workers.append(Worker(cost%3Dbw%2C%20jobs%3Djw.strip().split()))%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20idx%20%2B%3D%201%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20return%20Condition(jobs%3Djobs%2C%20workers%3Dworkers)%0A%20%20%20%20return%20(Condition%2C)%0A%0A%0A%40app.cell%0Adef%20_(Condition%2C%20fname1)%3A%0A%20%20%20%20cond1%20%3D%20Condition.from_file(fname1)%0A%20%20%20%20return%20(cond1%2C)%0A%0A%0A%40app.cell%0Adef%20_(Condition%2C%20cp_model%2C%20nx)%3A%0A%20%20%20%20class%20Model%3A%0A%20%20%20%20%20%20%20%20def%20__init__(self%2C%20cond%3A%20Condition)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%E3%82%B0%E3%83%A9%E3%83%95%E3%81%AE%E5%AE%9A%E7%BE%A9%0A%20%20%20%20%20%20%20%20%20%20%20%20g%20%3D%20nx.Graph()%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20id_job1%2C%20job1%20in%20enumerate(cond.jobs)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20id_job2%2C%20job2%20in%20enumerate(cond.jobs)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20id_job2%20%3C%3D%20id_job1%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20continue%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20job1.intersect_with(job2)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20g.add_edge(id_job1%2C%20id_job2)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%E3%82%AF%E3%83%AA%E3%83%BC%E3%82%AF%E3%81%AE%E5%88%97%E6%8C%99%0A%20%20%20%20%20%20%20%20%20%20%20%20cliques%20%3D%20%5Bset(c)%20for%20c%20in%20nx.find_cliques(g)%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20model%20%3D%20cp_model.CpModel()%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20x%20%3D%20%5B%5Bmodel.new_bool_var(%22%22)%20for%20_%20in%20cond.workers%5D%20for%20_%20in%20cond.jobs%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20y%20%3D%20%5Bmodel.new_bool_var(%22%22)%20for%20_%20in%20cond.workers%5D%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20x%20%E3%81%A8%20y%20%E3%81%AE%E9%96%A2%E4%BF%82%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20idw%2C%20worker%20in%20enumerate(cond.workers)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20model.add_max_equality(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%5Bidw%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bx%5Bidj%5D%5Bidw%5D%20for%20idj%2C%20_%20in%20enumerate(cond.jobs)%5D%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20worker%20%E3%81%94%E3%81%A8%E3%81%AB%E6%8B%85%E5%BD%93%E3%81%A7%E3%81%8D%E3%82%8B%20job%20%E3%81%AF%E3%81%8D%E3%81%BE%E3%81%A3%E3%81%A6%E3%81%84%E3%82%8B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20idj%2C%20job%20in%20enumerate(cond.jobs)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20idw%2C%20worker%20in%20enumerate(cond.workers)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20if%20idj%20not%20in%20worker.jobs%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20model.add(x%5Bidj%5D%5Bidw%5D%20%3D%3D%200)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%E5%90%84%20job%20%E3%81%AF%201%20%E4%BA%BA%E3%81%AE%20worker%20%E3%81%AB%E3%82%88%E3%81%A3%E3%81%A6%E5%87%A6%E7%90%86%E3%81%95%E3%82%8C%E3%82%8B%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20idj%2C%20_%20in%20enumerate(cond.jobs)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20model.add_exactly_one(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%5Bx%5Bidj%5D%5Bidw%5D%20for%20idw%2C%20_%20in%20enumerate(cond.workers)%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%E5%90%8C%E4%B8%80%E3%82%AF%E3%83%AA%E3%83%BC%E3%82%AF%E3%81%AB%E5%B1%9E%E3%81%99%E3%82%8B%20job%20%E3%81%AF%E5%90%8C%E3%81%98%20worker%20%E3%81%A7%E5%87%A6%E7%90%86%E3%81%A7%E3%81%8D%E3%81%AA%E3%81%84%0A%20%20%20%20%20%20%20%20%20%20%20%20for%20clique%20in%20cliques%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20for%20idw%2C%20worker%20in%20enumerate(cond.workers)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20model.add_at_most_one(%5Bx%5Bidj%5D%5Bidw%5D%20for%20idj%20in%20clique%5D)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20model.minimize(%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%20%20%20%20sum(%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%20%20%20%20%20%20%20%20y%5Bidw%5D%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%20%20%20%20%20%20%20%20for%20idw%2C%20_%20in%20enumerate(cond.workers)%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20%E8%A7%A3%E8%AA%AC%E3%83%9A%E3%83%BC%E3%82%B8%E3%81%A7%E3%81%AF%20worker%20%E6%95%B0%E3%82%92%E6%9C%80%E5%B0%8F%E5%8C%96%E3%81%97%E3%81%A6%E3%81%84%E3%81%9F%E3%81%8C%2C%0A%20%20%20%20%20%20%20%20%20%20%20%20%23%20worker%20%E3%81%AE%E3%82%B3%E3%82%B9%E3%83%88%E8%BE%BC%E3%81%A7%E6%9C%80%E5%B0%8F%E5%8C%96%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8C%E6%AD%A3%E3%81%97%E3%81%84.%0A%20%20%20%20%20%20%20%20%20%20%20%20model.minimize(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20sum(%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20y%5Bidw%5D%20*%20worker.cost%20for%20idw%2C%20worker%20in%20enumerate(cond.workers)%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20)%0A%20%20%20%20%20%20%20%20%20%20%20%20)%0A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.model%20%3D%20model%0A%20%20%20%20%20%20%20%20%20%20%20%20self.x%20%3D%20x%0A%20%20%20%20%20%20%20%20%20%20%20%20self.y%20%3D%20y%0A%20%20%20%20%20%20%20%20%20%20%20%20self.cliques%20%3D%20cliques%0A%0A%20%20%20%20%20%20%20%20def%20solve(self%2C%20timeout%3A%20int%20%3D%2010)%3A%0A%20%20%20%20%20%20%20%20%20%20%20%20self.solver%20%3D%20cp_model.CpSolver()%0A%20%20%20%20%20%20%20%20%20%20%20%20self.solver.parameters.log_search_progress%20%3D%20True%0A%20%20%20%20%20%20%20%20%20%20%20%20self.solver.parameters.max_time_in_seconds%20%3D%20timeout%0A%20%20%20%20%20%20%20%20%20%20%20%20self.status%20%3D%20self.solver.solve(self.model)%0A%20%20%20%20return%20(Model%2C)%0A%0A%0A%40app.cell%0Adef%20_(Model%2C%20cond1%2C%20mo)%3A%0A%20%20%20%20model1%20%3D%20Model(cond1)%0A%20%20%20%20model1.solve()%0A%0A%20%20%20%20mo.md(f%22Optimal%20Value%20%3D%20%7Bmodel1.solver.objective_value%7D%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_(Condition%2C%20data_dir)%3A%0A%20%20%20%20fname2%20%3D%20data_dir%20%2F%20%22data_40_138_360_33.dat%22%0A%20%20%20%20cond2%20%3D%20Condition.from_file(fname2)%0A%20%20%20%20return%20(cond2%2C)%0A%0A%0A%40app.cell%0Adef%20_(Model%2C%20cond2%2C%20mo)%3A%0A%20%20%20%20model2%20%3D%20Model(cond2)%0A%20%20%20%20model2.solve(timeout%3D60)%0A%0A%20%20%20%20mo.md(f%22Optimal%20Value%20%3D%20%7Bmodel2.solver.objective_value%7D%22)%0A%20%20%20%20return%0A%0A%0A%40app.cell%0Adef%20_()%3A%0A%20%20%20%20return%0A%0A%0Aif%20__name__%20%3D%3D%20%22__main__%22%3A%0A%20%20%20%20app.run()%0A
</marimo-code>

<marimo-code-hash hidden="">fea307a9fbb388d9cef336d219cf40c1462637e94479be117966f40279e56b18</marimo-code-hash>
</body>
</html>
